/**
 * jQuery EasyUI 1.4.1
 * 
 * Copyright (c) 2009-2014 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function($){function _1(e){e._remove()}function _3(e,n){var a=$.data(e,"panel"),o=a.options,i=a.panel,t=i.children("div.panel-header"),l=i.children("div.panel-body"),d=i.children("div.panel-footer");if(n&&$.extend(o,{width:n.width,height:n.height,minWidth:n.minWidth,maxWidth:n.maxWidth,minHeight:n.minHeight,maxHeight:n.maxHeight,left:n.left,top:n.top}),i._size(o),t.add(l)._outerWidth(i.width()),isNaN(parseInt(o.height))){l.css("height","");var s=$.parser.parseValue("minHeight",o.minHeight,i.parent()),r=$.parser.parseValue("maxHeight",o.maxHeight,i.parent()),c=t._outerHeight()+d._outerHeight()+i._outerHeight()-i.height();l._size("minHeight",s?s-c:""),l._size("maxHeight",r?r-c:"")}else l._outerHeight(i.height()-t._outerHeight()-d._outerHeight());i.css({height:"",minHeight:"",maxHeight:"",left:o.left,top:o.top}),o.onResize.apply(e,[o.width,o.height]),$(e).panel("doLayout")}function _f(e,n){var a=$.data(e,"panel").options,o=$.data(e,"panel").panel;n&&(null!=n.left&&(a.left=n.left),null!=n.top&&(a.top=n.top)),o.css({left:a.left,top:a.top}),a.onMove.apply(e,[a.left,a.top])}function _14(e){$(e).addClass("panel-body")._size("clear");var n=$('<div class="panel"></div>').insertBefore(e);return n[0].appendChild(e),n.bind("_resize",function(n,a){return($(this).hasClass("easyui-fluid")||a)&&_3(e),!1}),n}function _18(_19){function _1d(){if(_1b.tools&&"string"==typeof _1b.tools&&_1c.find(">div.panel-header>div.panel-tool .panel-tool-a").appendTo(_1b.tools),_1(_1c.children("div.panel-header")),_1b.title&&!_1b.noheader){var _22=$('<div class="panel-header"></div>').prependTo(_1c),_23=$('<div class="panel-title"></div>').html(_1b.title).appendTo(_22);_1b.iconCls&&(_23.addClass("panel-with-icon"),$('<div class="panel-icon"></div>').addClass(_1b.iconCls).appendTo(_22));var _24=$('<div class="panel-tool"></div>').appendTo(_22);if(_24.bind("click",function(e){e.stopPropagation()}),_1b.tools)if($.isArray(_1b.tools))for(var i=0;i<_1b.tools.length;i++){var t=$('<a href="javascript:void(0)"></a>').addClass(_1b.tools[i].iconCls).appendTo(_24);_1b.tools[i].handler&&t.bind("click",eval(_1b.tools[i].handler))}else $(_1b.tools).children().each(function(){$(this).addClass($(this).attr("iconCls")).addClass("panel-tool-a").appendTo(_24)});_1b.collapsible&&$('<a class="panel-tool-collapse" href="javascript:void(0)"></a>').appendTo(_24).bind("click",function(){return 1==_1b.collapsed?_4a(_19,!0):_38(_19,!0),!1}),_1b.minimizable&&$('<a class="panel-tool-min" href="javascript:void(0)"></a>').appendTo(_24).bind("click",function(){return _55(_19),!1}),_1b.maximizable&&$('<a class="panel-tool-max" href="javascript:void(0)"></a>').appendTo(_24).bind("click",function(){return 1==_1b.maximized?_59(_19):_37(_19),!1}),_1b.closable&&$('<a class="panel-tool-close" href="javascript:void(0)"></a>').appendTo(_24).bind("click",function(){return _39(_19),!1}),_1c.children("div.panel-body").removeClass("panel-body-noheader")}else _1c.children("div.panel-body").addClass("panel-body-noheader")}function _1e(){_1b.footer?($(_1b.footer).addClass("panel-footer").appendTo(_1c),$(_19).addClass("panel-body-nobottom")):(_1c.children("div.panel-footer").remove(),$(_19).removeClass("panel-body-nobottom"))}var _1a=$.data(_19,"panel"),_1b=_1a.options,_1c=_1a.panel;_1c.css(_1b.style),_1c.addClass(_1b.cls),_1d(),_1e();var _1f=$(_19).panel("header"),_20=$(_19).panel("body"),_21=$(_19).siblings("div.panel-footer");_1b.border?(_1f.removeClass("panel-header-noborder"),_20.removeClass("panel-body-noborder"),_21.removeClass("panel-footer-noborder")):(_1f.addClass("panel-header-noborder"),_20.addClass("panel-body-noborder"),_21.addClass("panel-footer-noborder")),_1f.addClass(_1b.headerCls),_20.addClass(_1b.bodyCls),$(_19).attr("id",_1b.id||""),_1b.content&&($(_19).panel("clear"),$(_19).html(_1b.content),$.parser.parse($(_19)))}function _25(e,n){var a=$.data(e,"panel"),o=a.options;if(i&&(o.queryParams=n),o.href&&(!a.isLoaded||!o.cache)){var i=$.extend({},o.queryParams);if(0==o.onBeforeLoad.call(e,i))return;a.isLoaded=!1,$(e).panel("clear"),o.loadingMessage&&$(e).html($('<div class="panel-loading"></div>').html(o.loadingMessage)),o.loader.call(e,i,function(n){var i=o.extractor.call(e,n);$(e).html(i),$.parser.parse($(e)),o.onLoad.apply(e,arguments),a.isLoaded=!0},function(){o.onLoadError.apply(e,arguments)})}}function _2d(e){var n=$(e);n.find(".combo-f").each(function(){$(this).combo("destroy")}),n.find(".m-btn").each(function(){$(this).menubutton("destroy")}),n.find(".s-btn").each(function(){$(this).splitbutton("destroy")}),n.find(".tooltip-f").each(function(){$(this).tooltip("destroy")}),n.children("div").each(function(){$(this)._size("unfit")}),n.empty()}function _2f(e){$(e).panel("doLayout",!0)}function _31(e,n){function a(){o.closed=!1,o.minimized=!1,i.children("div.panel-header").find("a.panel-tool-restore").length&&(o.maximized=!0),o.onOpen.call(e),1==o.maximized&&(o.maximized=!1,_37(e)),1==o.collapsed&&(o.collapsed=!1,_38(e)),o.collapsed||(_25(e),_2f(e))}var o=$.data(e,"panel").options,i=$.data(e,"panel").panel;if(1==n||0!=o.onBeforeOpen.call(e))if(i.stop(!0,!0),$.isFunction(o.openAnimation))o.openAnimation.call(e,a);else switch(o.openAnimation){case"slide":i.slideDown(o.openDuration,a);break;case"fade":i.fadeIn(o.openDuration,a);break;case"show":i.show(o.openDuration,a);break;default:i.show(),a()}}function _39(e,n){function a(){o.closed=!0,o.onClose.call(e)}var o=$.data(e,"panel").options,i=$.data(e,"panel").panel;if(1==n||0!=o.onBeforeClose.call(e))if(i.stop(!0,!0),i._size("unfit"),$.isFunction(o.closeAnimation))o.closeAnimation.call(e,a);else switch(o.closeAnimation){case"slide":i.slideUp(o.closeDuration,a);break;case"fade":i.fadeOut(o.closeDuration,a);break;case"hide":i.hide(o.closeDuration,a);break;default:i.hide(),a()}}function _3e(e,n){var a=$.data(e,"panel"),o=a.options,i=a.panel;1!=n&&0==o.onBeforeDestroy.call(e)||($(e).panel("clear").panel("clear","footer"),_1(i),o.onDestroy.call(e))}function _38(e,n){var a=$.data(e,"panel").options,o=$.data(e,"panel").panel,i=o.children("div.panel-body"),t=o.children("div.panel-header").find("a.panel-tool-collapse");1!=a.collapsed&&(i.stop(!0,!0),0!=a.onBeforeCollapse.call(e)&&(t.addClass("panel-tool-expand"),1==n?i.slideUp("normal",function(){a.collapsed=!0,a.onCollapse.call(e)}):(i.hide(),a.collapsed=!0,a.onCollapse.call(e))))}function _4a(e,n){var a=$.data(e,"panel").options,o=$.data(e,"panel").panel,i=o.children("div.panel-body"),t=o.children("div.panel-header").find("a.panel-tool-collapse");0!=a.collapsed&&(i.stop(!0,!0),0!=a.onBeforeExpand.call(e)&&(t.removeClass("panel-tool-expand"),1==n?i.slideDown("normal",function(){a.collapsed=!1,a.onExpand.call(e),_25(e),_2f(e)}):(i.show(),a.collapsed=!1,a.onExpand.call(e),_25(e),_2f(e))))}function _37(e){var n=$.data(e,"panel").options,a=$.data(e,"panel").panel,o=a.children("div.panel-header").find("a.panel-tool-max");1!=n.maximized&&(o.addClass("panel-tool-restore"),$.data(e,"panel").original||($.data(e,"panel").original={width:n.width,height:n.height,left:n.left,top:n.top,fit:n.fit}),n.left=0,n.top=0,n.fit=!0,_3(e),n.minimized=!1,n.maximized=!0,n.onMaximize.call(e))}function _55(e){var n=$.data(e,"panel").options,a=$.data(e,"panel").panel;a._size("unfit"),a.hide(),n.minimized=!0,n.maximized=!1,n.onMinimize.call(e)}function _59(e){var n=$.data(e,"panel").options,a=$.data(e,"panel").panel,o=a.children("div.panel-header").find("a.panel-tool-max");0!=n.maximized&&(a.show(),o.removeClass("panel-tool-restore"),$.extend(n,$.data(e,"panel").original),_3(e),n.minimized=!1,n.maximized=!1,$.data(e,"panel").original=null,n.onRestore.call(e))}function _5e(e,n){$.data(e,"panel").options.title=n,$(e).panel("header").find("div.panel-title").html(n)}$.fn._remove=function(){return this.each(function(){$(this).remove();try{this.outerHTML=""}catch(e){}})};var _61=null;$(window).unbind(".panel").bind("resize.panel",function(){_61&&clearTimeout(_61),_61=setTimeout(function(){var e=$("body.layout");e.length?(e.layout("resize"),$("body").children(".easyui-fluid:visible").trigger("_resize")):$("body").panel("doLayout"),_61=null},100)}),$.fn.panel=function(e,n){return"string"==typeof e?$.fn.panel.methods[e](this,n):(e=e||{},this.each(function(){var n,a=$.data(this,"panel");a?(n=$.extend(a.options,e),a.isLoaded=!1):(n=$.extend({},$.fn.panel.defaults,$.fn.panel.parseOptions(this),e),$(this).attr("title",""),a=$.data(this,"panel",{options:n,panel:_14(this),isLoaded:!1})),_18(this),1==n.doSize&&(a.panel.css("display","block"),_3(this)),1==n.closed||1==n.minimized?a.panel.hide():_31(this)}))},$.fn.panel.methods={options:function(e){return $.data(e[0],"panel").options},panel:function(e){return $.data(e[0],"panel").panel},header:function(e){return $.data(e[0],"panel").panel.find(">div.panel-header")},footer:function(e){return e.panel("panel").children(".panel-footer")},body:function(e){return $.data(e[0],"panel").panel.find(">div.panel-body")},setTitle:function(e,n){return e.each(function(){_5e(this,n)})},open:function(e,n){return e.each(function(){_31(this,n)})},close:function(e,n){return e.each(function(){_39(this,n)})},destroy:function(e,n){return e.each(function(){_3e(this,n)})},clear:function(e,n){return e.each(function(){_2d("footer"==n?$(this).panel("footer"):this)})},refresh:function(e,n){return e.each(function(){var e=$.data(this,"panel");e.isLoaded=!1,n&&("string"==typeof n?e.options.href=n:e.options.queryParams=n),_25(this)})},resize:function(e,n){return e.each(function(){_3(this,n)})},doLayout:function(e,n){return e.each(function(){function e(e,a){if(e){var o=e==$("body")[0];$(e).find("div.panel:visible,div.accordion:visible,div.tabs-container:visible,div.layout:visible,.easyui-fluid:visible").filter(function(n,i){var t=$(i).parents("div.panel-"+a+":first");return o?0==t.length:t[0]==e}).trigger("_resize",[n||!1])}}e(this,"body"),e($(this).siblings("div.panel-footer")[0],"footer")})},move:function(e,n){return e.each(function(){_f(this,n)})},maximize:function(e){return e.each(function(){_37(this)})},minimize:function(e){return e.each(function(){_55(this)})},restore:function(e){return e.each(function(){_59(this)})},collapse:function(e,n){return e.each(function(){_38(this,n)})},expand:function(e,n){return e.each(function(){_4a(this,n)})}},$.fn.panel.parseOptions=function(e){var n=$(e);return $.extend({},$.parser.parseOptions(e,["id","width","height","left","top","title","iconCls","cls","headerCls","bodyCls","tools","href","method",{cache:"boolean",fit:"boolean",border:"boolean",noheader:"boolean"},{collapsible:"boolean",minimizable:"boolean",maximizable:"boolean"},{closable:"boolean",collapsed:"boolean",minimized:"boolean",maximized:"boolean",closed:"boolean"},"openAnimation","closeAnimation",{openDuration:"number",closeDuration:"number"}]),{loadingMessage:void 0!=n.attr("loadingMessage")?n.attr("loadingMessage"):void 0})},$.fn.panel.defaults={id:null,title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:!0,fit:!1,border:!0,doSize:!0,noheader:!1,content:null,collapsible:!1,minimizable:!1,maximizable:!1,closable:!1,collapsed:!1,minimized:!1,maximized:!1,closed:!1,openAnimation:!1,openDuration:400,closeAnimation:!1,closeDuration:400,tools:null,footer:null,queryParams:{},method:"get",href:null,loadingMessage:"Loading...",loader:function(e,n,a){var o=$(this).panel("options");if(!o.href)return!1;$.ajax({type:o.method,url:o.href,cache:!1,data:e,dataType:"html",success:function(e){n(e)},error:function(){a.apply(this,arguments)}})},extractor:function(e){var n=/<body[^>]*>((.|[\n\r])*)<\/body>/im,a=n.exec(e);return a?a[1]:e},onBeforeLoad:function(e){},onLoad:function(){},onLoadError:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(e,n){},onMove:function(e,n){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}}}(jQuery);
//# sourceMappingURL=jquery.panel.js.map