/**
 * jQuery EasyUI 1.4.1
 * 
 * Copyright (c) 2009-2014 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function($){function _1(t){var e=$.data(t,"tabs").options;if("left"!=e.tabPosition&&"right"!=e.tabPosition&&e.showHeader){var a=$(t).children("div.tabs-header"),s=a.children("div.tabs-tool"),i=a.children("div.tabs-scroller-left"),n=a.children("div.tabs-scroller-right"),o=a.children("div.tabs-wrap"),r=a.outerHeight();e.plain&&(r-=r-a.height()),s._outerHeight(r);var l=0;$("ul.tabs li",a).each(function(){l+=$(this).outerWidth(!0)});var d=a.width()-s._outerWidth();l>d?(i.add(n).show()._outerHeight(r),"left"==e.toolPosition?(s.css({left:i.outerWidth(),right:""}),o.css({marginLeft:i.outerWidth()+s._outerWidth(),marginRight:n._outerWidth(),width:d-i.outerWidth()-n.outerWidth()})):(s.css({left:"",right:n.outerWidth()}),o.css({marginLeft:i.outerWidth(),marginRight:n.outerWidth()+s._outerWidth(),width:d-i.outerWidth()-n.outerWidth()}))):(i.add(n).hide(),"left"==e.toolPosition?(s.css({left:0,right:""}),o.css({marginLeft:s._outerWidth(),marginRight:0,width:d})):(s.css({left:"",right:0}),o.css({marginLeft:0,marginRight:s._outerWidth(),width:d})))}}function _c(_d){var _e=$.data(_d,"tabs").options,_f=$(_d).children("div.tabs-header");if(_e.tools)if("string"==typeof _e.tools)$(_e.tools).addClass("tabs-tool").appendTo(_f),$(_e.tools).show();else{_f.children("div.tabs-tool").remove();for(var _10=$('<div class="tabs-tool"><table cellspacing="0" cellpadding="0" style="height:100%"><tr></tr></table></div>').appendTo(_f),tr=_10.find("tr"),i=0;i<_e.tools.length;i++){var td=$("<td></td>").appendTo(tr),_11=$('<a href="javascript:void(0);"></a>').appendTo(td);_11[0].onclick=eval(_e.tools[i].handler||function(){}),_11.linkbutton($.extend({},_e.tools[i],{plain:!0}))}}else _f.children("div.tabs-tool").remove()}function _12(t,e){var a=$.data(t,"tabs"),s=a.options,i=$(t);e&&$.extend(s,{width:e.width,height:e.height}),i._size(s);for(var n=i.children("div.tabs-header"),o=i.children("div.tabs-panels"),r=n.find("div.tabs-wrap"),l=r.find(".tabs"),d=0;d<a.tabs.length;d++){var h=a.tabs[d].panel("options"),c=h.tab.find("a.tabs-inner"),b=parseInt(h.tabWidth||s.tabWidth)||void 0;b?c._outerWidth(b):c.css("width",""),c._outerHeight(s.tabHeight),c.css("lineHeight",c.height()+"px")}if("left"==s.tabPosition||"right"==s.tabPosition)n._outerWidth(s.showHeader?s.headerWidth:0),o._outerWidth(i.width()-n.outerWidth()),n.add(o)._outerHeight(s.height),r._outerWidth(n.width()),l._outerWidth(r.width()).css("height","");else{var f=n.children("div.tabs-scroller-left,div.tabs-scroller-right,div.tabs-tool");n._outerWidth(s.width).css("height",""),s.showHeader?(n.css("background-color",""),r.css("height",""),f.show()):(n.css("background-color","transparent"),n._outerHeight(0),r._outerHeight(0),f.hide()),l._outerHeight(s.tabHeight).css("width",""),_1(t),o._size("height",isNaN(s.height)?"":s.height-n.outerHeight()),o._size("width",isNaN(s.width)?"":s.width)}}function _1c(t){var e=$.data(t,"tabs").options,a=_1f(t);if(a){var s=$(t).children("div.tabs-panels"),i="auto"==e.width?"auto":s.width(),n="auto"==e.height?"auto":s.height();a.panel("resize",{width:i,height:n})}}function _23(t){var e=$.data(t,"tabs").tabs,a=$(t);a.addClass("tabs-container");var s=$('<div class="tabs-panels"></div>').insertBefore(a);a.children("div").each(function(){s[0].appendChild(this)}),a[0].appendChild(s[0]),$('<div class="tabs-header"><div class="tabs-scroller-left"></div><div class="tabs-scroller-right"></div><div class="tabs-wrap"><ul class="tabs"></ul></div></div>').prependTo(t),a.children("div.tabs-panels").children("div").each(function(a){var s=$.extend({},$.parser.parseOptions(this),{selected:!!$(this).attr("selected")||void 0}),i=$(this);e.push(i),_35(t,i,s)}),a.children("div.tabs-header").find(".tabs-scroller-left, .tabs-scroller-right").hover(function(){$(this).addClass("tabs-scroller-over")},function(){$(this).removeClass("tabs-scroller-over")}),a.bind("_resize",function(e,a){return($(this).hasClass("easyui-fluid")||a)&&(_12(t),_1c(t)),!1})}function _28(t){function e(t){var e=0;return t.parent().children("li").each(function(a){if(t[0]==this)return e=a,!1}),e}var a=$.data(t,"tabs"),s=a.options;$(t).children("div.tabs-header").unbind().bind("click",function(i){if($(i.target).hasClass("tabs-scroller-left"))$(t).tabs("scrollBy",-s.scrollIncrement);else if($(i.target).hasClass("tabs-scroller-right"))$(t).tabs("scrollBy",s.scrollIncrement);else{var n=$(i.target).closest("li");if(n.hasClass("tabs-disabled"))return;var o=$(i.target).closest("a.tabs-close");if(o.length)_4c(t,e(n));else if(n.length){var r=e(n),l=a.tabs[r].panel("options");l.collapsible?l.closed?_41(t,r):_6b(t,r):_41(t,r)}}}).bind("contextmenu",function(a){var i=$(a.target).closest("li");i.hasClass("tabs-disabled")||i.length&&s.onContextMenu.call(t,a,i.find("span.tabs-title").html(),e(i))})}function _30(t){var e=$.data(t,"tabs").options,a=$(t).children("div.tabs-header"),s=$(t).children("div.tabs-panels");a.removeClass("tabs-header-top tabs-header-bottom tabs-header-left tabs-header-right"),s.removeClass("tabs-panels-top tabs-panels-bottom tabs-panels-left tabs-panels-right"),"top"==e.tabPosition?a.insertBefore(s):"bottom"==e.tabPosition?(a.insertAfter(s),a.addClass("tabs-header-bottom"),s.addClass("tabs-panels-top")):"left"==e.tabPosition?(a.addClass("tabs-header-left"),s.addClass("tabs-panels-right")):"right"==e.tabPosition&&(a.addClass("tabs-header-right"),s.addClass("tabs-panels-left")),1==e.plain?a.addClass("tabs-header-plain"):a.removeClass("tabs-header-plain"),1==e.border?(a.removeClass("tabs-header-noborder"),s.removeClass("tabs-panels-noborder")):(a.addClass("tabs-header-noborder"),s.addClass("tabs-panels-noborder"))}function _35(t,e,a){var s=$.data(t,"tabs");a=a||{},e.panel($.extend({},a,{border:!1,noheader:!0,closed:!0,doSize:!1,iconCls:a.icon?a.icon:void 0,onLoad:function(){a.onLoad&&a.onLoad.call(this,arguments),s.options.onLoad.call(t,$(this))}}));var i=e.panel("options"),n=$(t).children("div.tabs-header").find("ul.tabs");i.tab=$("<li></li>").appendTo(n),i.tab.append('<a href="javascript:void(0)" class="tabs-inner"><span class="tabs-title"></span><span class="tabs-icon"></span></a>'),$(t).tabs("update",{tab:e,options:i,type:"header"})}function _3b(t,e){var a=$.data(t,"tabs"),s=a.options,i=a.tabs;void 0==e.selected&&(e.selected=!0);var n=$("<div></div>").appendTo($(t).children("div.tabs-panels"));i.push(n),_35(t,n,e),s.onAdd.call(t,e.title,i.length-1),_12(t),e.selected&&_41(t,i.length-1)}function _42(t,e){e.type=e.type||"all";var a=$.data(t,"tabs").selectHis,s=e.tab,i=s.panel("options").title;if("all"!=e.type&&"body"!=e||s.panel($.extend({},e.options,{iconCls:e.options.icon?e.options.icon:void 0})),"all"==e.type||"header"==e.type){var n=s.panel("options"),o=n.tab,r=o.find("span.tabs-title"),l=o.find("span.tabs-icon");if(r.html(n.title),l.attr("class","tabs-icon"),o.find("a.tabs-close").remove(),n.closable?(r.addClass("tabs-closable"),$('<a href="javascript:void(0)" class="tabs-close"></a>').appendTo(o)):r.removeClass("tabs-closable"),n.iconCls?(r.addClass("tabs-with-icon"),l.addClass(n.iconCls)):r.removeClass("tabs-with-icon"),i!=n.title)for(var d=0;d<a.length;d++)a[d]==i&&(a[d]=n.title);if(o.find("span.tabs-p-tool").remove(),n.tools){var h=$('<span class="tabs-p-tool"></span>').insertAfter(o.find("a.tabs-inner"));if($.isArray(n.tools))for(var d=0;d<n.tools.length;d++){var c=$('<a href="javascript:void(0)"></a>').appendTo(h);c.addClass(n.tools[d].iconCls),n.tools[d].handler&&c.bind("click",{handler:n.tools[d].handler},function(t){$(this).parents("li").hasClass("tabs-disabled")||t.data.handler.call(this)})}else $(n.tools).children().appendTo(h);var b=12*h.children().length;n.closable?b+=8:(b-=3,h.css("right","5px")),r.css("padding-right",b+"px")}}_12(t),$.data(t,"tabs").options.onUpdate.call(t,n.title,_4b(t,s))}function _4c(t,e){var a=$.data(t,"tabs").options,s=$.data(t,"tabs").tabs,i=$.data(t,"tabs").selectHis;if(_52(t,e)){var n=_53(t,e),o=n.panel("options").title,r=_4b(t,n);if(0!=a.onBeforeClose.call(t,o,r)){var n=_53(t,e,!0);n.panel("options").tab.remove(),n.panel("destroy"),a.onClose.call(t,o,r),_12(t);for(var l=0;l<i.length;l++)i[l]==o&&(i.splice(l,1),l--);var d=i.pop();d?_41(t,d):s.length&&_41(t,0)}}}function _53(t,e,a){var s=$.data(t,"tabs").tabs;if("number"==typeof e){if(e<0||e>=s.length)return null;var i=s[e];return a&&s.splice(e,1),i}for(var n=0;n<s.length;n++){var i=s[n];if(i.panel("options").title==e)return a&&s.splice(n,1),i}return null}function _4b(t,e){for(var a=$.data(t,"tabs").tabs,s=0;s<a.length;s++)if(a[s][0]==$(e)[0])return s;return-1}function _1f(t){for(var e=$.data(t,"tabs").tabs,a=0;a<e.length;a++){var s=e[a];if(0==s.panel("options").closed)return s}return null}function _5f(t){for(var e=$.data(t,"tabs"),a=e.tabs,s=0;s<a.length;s++)if(a[s].panel("options").selected)return void _41(t,s);_41(t,e.options.selected)}function _41(t,e){var a=$.data(t,"tabs"),s=a.options,i=a.tabs,n=a.selectHis;if(0!=i.length){var o=_53(t,e);if(o){var r=_1f(t);if(r){if(o[0]==r[0])return void _1c(t);if(_6b(t,_4b(t,r)),!r.panel("options").closed)return}o.panel("open");var l=o.panel("options").title;n.push(l);var d=o.panel("options").tab;d.addClass("tabs-selected");var h=$(t).find(">div.tabs-header>div.tabs-wrap"),c=d.position().left,b=c+d.outerWidth();if(c<0||b>h.width()){var f=c-(h.width()-d.width())/2;$(t).tabs("scrollBy",f)}else $(t).tabs("scrollBy",0);_1c(t),s.onSelect.call(t,l,_4b(t,o))}}}function _6b(t,e){var a=$.data(t,"tabs"),s=_53(t,e);if(s){var i=s.panel("options");i.closed||(s.panel("close"),i.closed&&(i.tab.removeClass("tabs-selected"),a.options.onUnselect.call(t,i.title,_4b(t,s))))}}function _52(t,e){return null!=_53(t,e)}function _77(t,e){$.data(t,"tabs").options.showHeader=e,$(t).tabs("resize")}$.fn.tabs=function(t,e){return"string"==typeof t?$.fn.tabs.methods[t](this,e):(t=t||{},this.each(function(){var e=$.data(this,"tabs");e?$.extend(e.options,t):($.data(this,"tabs",{options:$.extend({},$.fn.tabs.defaults,$.fn.tabs.parseOptions(this),t),tabs:[],selectHis:[]}),_23(this)),_c(this),_30(this),_12(this),_28(this),_5f(this)}))},$.fn.tabs.methods={options:function(t){var e=t[0],a=$.data(e,"tabs").options,s=_1f(e);return a.selected=s?_4b(e,s):-1,a},tabs:function(t){return $.data(t[0],"tabs").tabs},resize:function(t,e){return t.each(function(){_12(this,e),_1c(this)})},add:function(t,e){return t.each(function(){_3b(this,e)})},close:function(t,e){return t.each(function(){_4c(this,e)})},getTab:function(t,e){return _53(t[0],e)},getTabIndex:function(t,e){return _4b(t[0],e)},getSelected:function(t){return _1f(t[0])},select:function(t,e){return t.each(function(){_41(this,e)})},unselect:function(t,e){return t.each(function(){_6b(this,e)})},exists:function(t,e){return _52(t[0],e)},update:function(t,e){return t.each(function(){_42(this,e)})},enableTab:function(t,e){return t.each(function(){$(this).tabs("getTab",e).panel("options").tab.removeClass("tabs-disabled")})},disableTab:function(t,e){return t.each(function(){$(this).tabs("getTab",e).panel("options").tab.addClass("tabs-disabled")})},showHeader:function(t){return t.each(function(){_77(this,!0)})},hideHeader:function(t){return t.each(function(){_77(this,!1)})},scrollBy:function(t,e){return t.each(function(){var t=$(this).tabs("options"),a=$(this).find(">div.tabs-header>div.tabs-wrap"),s=Math.min(a._scrollLeft()+e,function(){var t=0,e=a.children("ul");return e.children("li").each(function(){t+=$(this).outerWidth(!0)}),t-a.width()+(e.outerWidth()-e.width())}());a.animate({scrollLeft:s},t.scrollDuration)})}},$.fn.tabs.parseOptions=function(t){return $.extend({},$.parser.parseOptions(t,["tools","toolPosition","tabPosition",{fit:"boolean",border:"boolean",plain:"boolean",headerWidth:"number",tabWidth:"number",tabHeight:"number",selected:"number",showHeader:"boolean"}]))},$.fn.tabs.defaults={width:"auto",height:"auto",headerWidth:150,tabWidth:"auto",tabHeight:27,selected:0,showHeader:!0,plain:!1,fit:!1,border:!0,tools:null,toolPosition:"right",tabPosition:"top",scrollIncrement:100,scrollDuration:400,onLoad:function(t){},onSelect:function(t,e){},onUnselect:function(t,e){},onBeforeClose:function(t,e){},onClose:function(t,e){},onAdd:function(t,e){},onUpdate:function(t,e){},onContextMenu:function(t,e,a){}}}(jQuery);
//# sourceMappingURL=jquery.tabs.js.map