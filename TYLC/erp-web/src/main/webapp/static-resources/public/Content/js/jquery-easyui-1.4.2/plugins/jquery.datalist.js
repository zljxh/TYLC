/**
 * jQuery EasyUI 1.4.2
 * 
 * Copyright (c) 2009-2015 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function(t){function a(a){var e=t.data(a,"datalist").options;t(a).datagrid(t.extend({},e,{cls:"datalist"+(e.lines?" datalist-lines":""),frozenColumns:e.frozenColumns&&e.frozenColumns.length?e.frozenColumns:e.checkbox?[[{field:"_ck",checkbox:!0}]]:void 0,columns:e.columns&&e.columns.length?e.columns:[[{field:e.textField,width:"100%",formatter:function(t,a,r){return e.textFormatter?e.textFormatter(t,a,r):t}}]]}))}var e=t.extend({},t.fn.datagrid.defaults.view,{render:function(a,e,r){var o=t.data(a,"datagrid");if(o.options.groupField){var s=this.groupRows(a,o.data.rows);this.groups=s.groups,o.data.rows=s.rows;for(var n=[],i=0;i<s.groups.length;i++)n.push(this.renderGroup.call(this,a,i,s.groups[i],r));t(e).html(n.join(""))}else t(e).html(this.renderTable(a,0,o.data.rows,r))},renderGroup:function(a,e,r,o){var s=t.data(a,"datagrid"),n=s.options,i=(t(a).datagrid("getColumnFields",o),[]);return i.push('<div class="datagrid-group" group-index='+e+">"),o||(i.push('<span class="datagrid-group-title">'),i.push(n.groupFormatter.call(a,r.value,r.rows)),i.push("</span>")),i.push("</div>"),i.push(this.renderTable(a,r.startIndex,r.rows,o)),i.join("")},groupRows:function(a,e){for(var r=t.data(a,"datagrid"),o=r.options,s=[],n=0;n<e.length;n++){var i=e[n],d=function(t){for(var a=0;a<s.length;a++){var e=s[a];if(e.value==t)return e}return null}(i[o.groupField]);d?d.rows.push(i):(d={value:i[o.groupField],rows:[i]},s.push(d))}for(var l=0,e=[],n=0;n<s.length;n++){var d=s[n];d.startIndex=l,l+=d.rows.length,e=e.concat(d.rows)}return{groups:s,rows:e}}});t.fn.datalist=function(e,r){if("string"==typeof e){var o=t.fn.datalist.methods[e];return o?o(this,r):this.datagrid(e,r)}return e=e||{},this.each(function(){var r=t.data(this,"datalist");if(r)t.extend(r.options,e);else{var o=t.extend({},t.fn.datalist.defaults,t.fn.datalist.parseOptions(this),e);o.columns=t.extend(!0,[],o.columns),r=t.data(this,"datalist",{options:o})}if(a(this),!r.options.data){var s=t.fn.datalist.parseData(this);s.total&&t(this).datalist("loadData",s)}})},t.fn.datalist.methods={options:function(a){return t.data(a[0],"datalist").options}},t.fn.datalist.parseOptions=function(a){return t.extend({},t.fn.datagrid.parseOptions(a),t.parser.parseOptions(a,["valueField","textField","groupField",{checkbox:"boolean",lines:"boolean"}]))},t.fn.datalist.parseData=function(a){var e=t.data(a,"datalist").options,r={total:0,rows:[]};return t(a).children().each(function(){var a=t.parser.parseOptions(this,["value","group"]),o={},s=t(this).html();o[e.valueField]=void 0!=a.value?a.value:s,o[e.textField]=s,e.groupField&&(o[e.groupField]=a.group),r.total++,r.rows.push(o)}),r},t.fn.datalist.defaults=t.extend({},t.fn.datagrid.defaults,{fitColumns:!0,singleSelect:!0,showHeader:!1,checkbox:!1,lines:!1,valueField:"value",textField:"text",groupField:"",view:e,textFormatter:function(t,a){return t},groupFormatter:function(t,a){return t}})}(jQuery);
//# sourceMappingURL=jquery.datalist.js.map