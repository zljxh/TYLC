/**
 * jQuery EasyUI 1.4.1
 * 
 * Copyright (c) 2009-2014 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function(e){function t(t){var r=e.data(t,"combotree"),n=r.options,c=r.tree;e(t).addClass("combotree-f"),e(t).combo(n);var a=e(t).combo("panel");c||(c=e("<ul></ul>").appendTo(a),e.data(t,"combotree").tree=c),c.tree(e.extend({},n,{checkbox:n.multiple,onLoadSuccess:function(o,r){var a=e(t).combotree("getValues");if(n.multiple)for(var i=c.tree("getChecked"),s=0;s<i.length;s++){var u=i[s].id;!function(){for(var e=0;e<a.length;e++)if(u==a[e])return;a.push(u)}()}e(t).combotree("setValues",a),n.onLoadSuccess.call(this,o,r)},onClick:function(r){n.multiple?e(this).tree(r.checked?"uncheck":"check",r.target):e(t).combo("hidePanel"),o(t),n.onClick.call(this,r)},onCheck:function(e,r){o(t),n.onCheck.call(this,e,r)}}))}function o(t){var o=e.data(t,"combotree"),r=o.options,n=o.tree,c=[],a=[];if(r.multiple)for(var i=n.tree("getChecked"),s=0;s<i.length;s++)c.push(i[s].id),a.push(i[s].text);else{var u=n.tree("getSelected");u&&(c.push(u.id),a.push(u.text))}e(t).combo("setValues",c).combo("setText",a.join(r.separator))}function r(t,r){var n=e.data(t,"combotree"),c=n.options,a=n.tree,i=a.tree("options"),s=i.onCheck,u=i.onSelect;i.onCheck=i.onSelect=function(){},a.find("span.tree-checkbox").addClass("tree-checkbox0").removeClass("tree-checkbox1 tree-checkbox2"),e.isArray(r)||(r=r.split(c.separator));for(var l=0;l<r.length;l++){var h=a.tree("find",r[l]);h&&(a.tree("check",h.target),a.tree("select",h.target))}i.onCheck=s,i.onSelect=u,o(t)}e.fn.combotree=function(o,r){if("string"==typeof o){var n=e.fn.combotree.methods[o];return n?n(this,r):this.combo(o,r)}return o=o||{},this.each(function(){var r=e.data(this,"combotree");r?e.extend(r.options,o):e.data(this,"combotree",{options:e.extend({},e.fn.combotree.defaults,e.fn.combotree.parseOptions(this),o)}),t(this)})},e.fn.combotree.methods={options:function(t){var o=t.combo("options");return e.extend(e.data(t[0],"combotree").options,{width:o.width,height:o.height,originalValue:o.originalValue,disabled:o.disabled,readonly:o.readonly})},clone:function(t,o){var r=t.combo("clone",o);return r.data("combotree",{options:e.extend(!0,{},t.combotree("options")),tree:t.combotree("tree")}),r},tree:function(t){return e.data(t[0],"combotree").tree},loadData:function(t,o){return t.each(function(){e.data(this,"combotree").options.data=o,e.data(this,"combotree").tree.tree("loadData",o)})},reload:function(t,o){return t.each(function(){var t=e.data(this,"combotree").options,r=e.data(this,"combotree").tree;o&&(t.url=o),r.tree({url:t.url})})},setValues:function(e,t){return e.each(function(){r(this,t)})},setValue:function(e,t){return e.each(function(){r(this,[t])})},clear:function(t){return t.each(function(){var t=e.data(this,"combotree").tree;t.find("div.tree-node-selected").removeClass("tree-node-selected");for(var o=t.tree("getChecked"),r=0;r<o.length;r++)t.tree("uncheck",o[r].target);e(this).combo("clear")})},reset:function(t){return t.each(function(){var t=e(this).combotree("options");t.multiple?e(this).combotree("setValues",t.originalValue):e(this).combotree("setValue",t.originalValue)})}},e.fn.combotree.parseOptions=function(t){return e.extend({},e.fn.combo.parseOptions(t),e.fn.tree.parseOptions(t))},e.fn.combotree.defaults=e.extend({},e.fn.combo.defaults,e.fn.tree.defaults,{editable:!1})}(jQuery);
//# sourceMappingURL=jquery.combotree.js.map