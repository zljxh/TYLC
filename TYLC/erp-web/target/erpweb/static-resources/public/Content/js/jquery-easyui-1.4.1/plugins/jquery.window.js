/**
 * jQuery EasyUI 1.4.1
 * 
 * Copyright (c) 2009-2014 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function(o){function e(e,t){var n=o.data(e,"window");t&&(null!=t.left&&(n.options.left=t.left),null!=t.top&&(n.options.top=t.top)),o(e).panel("move",n.options),n.shadow&&n.shadow.css({left:n.options.left,top:n.options.top})}function t(t,n){var i=o.data(t,"window").options,d=o(t).window("panel"),a=d._outerWidth();if(i.inline){var s=d.parent();i.left=Math.ceil((s.width()-a)/2+s.scrollLeft())}else i.left=Math.ceil((o(window)._outerWidth()-a)/2+o(document).scrollLeft());n&&e(t)}function n(t,n){var i=o.data(t,"window").options,d=o(t).window("panel"),a=d._outerHeight();if(i.inline){var s=d.parent();i.top=Math.ceil((s.height()-a)/2+s.scrollTop())}else i.top=Math.ceil((o(window)._outerHeight()-a)/2+o(document).scrollTop());n&&e(t)}function i(i){var d=o.data(i,"window"),s=d.options,w=o(i).panel(o.extend({},d.options,{border:!1,doSize:!0,closed:!0,cls:"window",headerCls:"window-header",bodyCls:"window-body "+(s.noheader?"window-body-noheader":""),onBeforeDestroy:function(){if(0==s.onBeforeDestroy.call(i))return!1;d.shadow&&d.shadow.remove(),d.mask&&d.mask.remove()},onClose:function(){d.shadow&&d.shadow.hide(),d.mask&&d.mask.hide(),s.onClose.call(i)},onOpen:function(){d.mask&&d.mask.css({display:"block",zIndex:o.fn.window.defaults.zIndex++}),d.shadow&&d.shadow.css({display:"block",zIndex:o.fn.window.defaults.zIndex++,left:s.left,top:s.top,width:d.window._outerWidth(),height:d.window._outerHeight()}),d.window.css("z-index",o.fn.window.defaults.zIndex++),s.onOpen.call(i)},onResize:function(e,t){var n=o(this).panel("options");o.extend(s,{width:n.width,height:n.height,left:n.left,top:n.top}),d.shadow&&d.shadow.css({left:s.left,top:s.top,width:d.window._outerWidth(),height:d.window._outerHeight()}),s.onResize.call(i,e,t)},onMinimize:function(){d.shadow&&d.shadow.hide(),d.mask&&d.mask.hide(),d.options.onMinimize.call(i)},onBeforeCollapse:function(){if(0==s.onBeforeCollapse.call(i))return!1;d.shadow&&d.shadow.hide()},onExpand:function(){d.shadow&&d.shadow.show(),s.onExpand.call(i)}}));d.window=w.panel("panel"),d.mask&&d.mask.remove(),1==s.modal&&(d.mask=o('<div class="window-mask"></div>').insertAfter(d.window),d.mask.css({width:s.inline?d.mask.parent().width():a().width,height:s.inline?d.mask.parent().height():a().height,display:"none"})),d.shadow&&d.shadow.remove(),1==s.shadow&&(d.shadow=o('<div class="window-shadow"></div>').insertAfter(d.window),d.shadow.css({display:"none"})),null==s.left&&t(i),null==s.top&&n(i),e(i),s.closed||w.window("open")}function d(e){var t=o.data(e,"window");t.window.draggable({handle:">div.panel-header>div.panel-title",disabled:0==t.options.draggable,onStartDrag:function(e){t.mask&&t.mask.css("z-index",o.fn.window.defaults.zIndex++),t.shadow&&t.shadow.css("z-index",o.fn.window.defaults.zIndex++),t.window.css("z-index",o.fn.window.defaults.zIndex++),t.proxy||(t.proxy=o('<div class="window-proxy"></div>').insertAfter(t.window)),t.proxy.css({display:"none",zIndex:o.fn.window.defaults.zIndex++,left:e.data.left,top:e.data.top}),t.proxy._outerWidth(t.window._outerWidth()),t.proxy._outerHeight(t.window._outerHeight()),setTimeout(function(){t.proxy&&t.proxy.show()},500)},onDrag:function(o){return t.proxy.css({display:"block",left:o.data.left,top:o.data.top}),!1},onStopDrag:function(n){t.options.left=n.data.left,t.options.top=n.data.top,o(e).window("move"),t.proxy.remove(),t.proxy=null}}),t.window.resizable({disabled:0==t.options.resizable,onStartResize:function(e){t.pmask&&t.pmask.remove(),t.pmask=o('<div class="window-proxy-mask"></div>').insertAfter(t.window),t.pmask.css({zIndex:o.fn.window.defaults.zIndex++,left:e.data.left,top:e.data.top,width:t.window._outerWidth(),height:t.window._outerHeight()}),t.proxy&&t.proxy.remove(),t.proxy=o('<div class="window-proxy"></div>').insertAfter(t.window),t.proxy.css({zIndex:o.fn.window.defaults.zIndex++,left:e.data.left,top:e.data.top}),t.proxy._outerWidth(e.data.width)._outerHeight(e.data.height)},onResize:function(o){return t.proxy.css({left:o.data.left,top:o.data.top}),t.proxy._outerWidth(o.data.width),t.proxy._outerHeight(o.data.height),!1},onStopResize:function(n){o(e).window("resize",n.data),t.pmask.remove(),t.pmask=null,t.proxy.remove(),t.proxy=null}})}function a(){return"BackCompat"==document.compatMode?{width:Math.max(document.body.scrollWidth,document.body.clientWidth),height:Math.max(document.body.scrollHeight,document.body.clientHeight)}:{width:Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth),height:Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight)}}o(window).resize(function(){o("body>div.window-mask").css({width:o(window)._outerWidth(),height:o(window)._outerHeight()}),setTimeout(function(){o("body>div.window-mask").css({width:a().width,height:a().height})},50)}),o.fn.window=function(e,t){if("string"==typeof e){var n=o.fn.window.methods[e];return n?n(this,t):this.panel(e,t)}return e=e||{},this.each(function(){var t=o.data(this,"window");t?o.extend(t.options,e):(t=o.data(this,"window",{options:o.extend({},o.fn.window.defaults,o.fn.window.parseOptions(this),e)}),t.options.inline||document.body.appendChild(this)),i(this),d(this)})},o.fn.window.methods={options:function(e){var t=e.panel("options"),n=o.data(e[0],"window").options;return o.extend(n,{closed:t.closed,collapsed:t.collapsed,minimized:t.minimized,maximized:t.maximized})},window:function(e){return o.data(e[0],"window").window},move:function(o,t){return o.each(function(){e(this,t)})},hcenter:function(o){return o.each(function(){t(this,!0)})},vcenter:function(o){return o.each(function(){n(this,!0)})},center:function(o){return o.each(function(){t(this),n(this),e(this)})}},o.fn.window.parseOptions=function(e){return o.extend({},o.fn.panel.parseOptions(e),o.parser.parseOptions(e,[{draggable:"boolean",resizable:"boolean",shadow:"boolean",modal:"boolean",inline:"boolean"}]))},o.fn.window.defaults=o.extend({},o.fn.panel.defaults,{zIndex:9e3,draggable:!0,resizable:!0,shadow:!0,modal:!1,inline:!1,title:"New Window",collapsible:!0,minimizable:!0,maximizable:!0,closable:!0,closed:!1})}(jQuery);
//# sourceMappingURL=jquery.window.js.map