/**
 * jQuery EasyUI 1.4.1
 * 
 * Copyright (c) 2009-2014 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function(t){function e(e,n){function a(){var e=t("#"+f);if(e.length)try{var n=e.contents()[0].readyState;n&&"uninitialized"==n.toLowerCase()&&setTimeout(a,100)}catch(t){o()}}function o(){var e=t("#"+f);if(e.length){e.unbind();var n="";try{var a=e.contents().find("body");if(""==(n=a.html())&&--s)return void setTimeout(o,100);var r=a.find(">textarea");if(r.length)n=r.val();else{var c=a.find(">pre");c.length&&(n=c.html())}}catch(t){}i.success(n),setTimeout(function(){e.unbind(),e.remove()},100)}}var i=t.data(e,"form").options;t.extend(i,n||{});var r=t.extend({},i.queryParams);if(0!=i.onSubmit.call(e,r)){t(e).find(".textbox-text:focus").blur();var f="easyui_frame_"+(new Date).getTime(),c=t("<iframe id="+f+" name="+f+"></iframe>").appendTo("body");c.attr("src",window.ActiveXObject?"javascript:false":"about:blank"),c.css({position:"absolute",top:-1e3,left:-1e3}),c.bind("load",o),function(n){var o=t(e);i.url&&o.attr("action",i.url);var r=o.attr("target"),c=o.attr("action");o.attr("target",f);var s=t();try{for(var u in n){var d=t('<input type="hidden" name="'+u+'">').val(n[u]).appendTo(o);s=s.add(d)}a(),o[0].submit()}finally{o.attr("action",c),r?o.attr("target",r):o.removeAttr("target"),s.remove()}}(r);var s=10}}function n(e,n){function a(n){var a=t(e);for(var s in n){var u=n[s];if(!o(s,u).length){i(s,u)||(t('input[name="'+s+'"]',a).val(u),t('textarea[name="'+s+'"]',a).val(u),t('select[name="'+s+'"]',a).val(u))}r(s,u)}c.onLoadSuccess.call(e,n),f(e)}function o(n,a){var o=t(e).find('input[name="'+n+'"][type=radio], input[name="'+n+'"][type=checkbox]');return o._propAttr("checked",!1),o.each(function(){var e=t(this);(e.val()==String(a)||t.inArray(e.val(),t.isArray(a)?a:[a])>=0)&&e._propAttr("checked",!0)}),o}function i(n,a){for(var o=0,i=["textbox","numberbox","slider"],r=0;r<i.length;r++){var f=i[r],c=t(e).find("input["+f+'Name="'+n+'"]');c.length&&(c[f]("setValue",a),o+=c.length)}return o}function r(n,a){var o=t(e),i=["combobox","combotree","combogrid","datetimebox","datebox","combo"],r=o.find('[comboName="'+n+'"]');if(r.length)for(var f=0;f<i.length;f++){var c=i[f];if(r.hasClass(c+"-f"))return void(r[c]("options").multiple?r[c]("setValues",a):r[c]("setValue",a))}}var c=t.data(e,"form").options;if("string"==typeof n){var s={};if(0==c.onBeforeLoad.call(e,s))return;t.ajax({url:n,data:s,dataType:"json",success:function(t){a(t)},error:function(){c.onLoadError.apply(e,arguments)}})}else a(n)}function a(e){t("input,select,textarea",e).each(function(){var e=this.type,n=this.tagName.toLowerCase();if("text"==e||"hidden"==e||"password"==e||"textarea"==n)this.value="";else if("file"==e){var a=t(this);if(!a.hasClass("textbox-value")){var o=a.clone().val("");o.insertAfter(a),a.data("validatebox")?(a.validatebox("destroy"),o.validatebox()):a.remove()}}else"checkbox"==e||"radio"==e?this.checked=!1:"select"==n&&(this.selectedIndex=-1)});for(var n=t(e),a=["textbox","combo","combobox","combotree","combogrid","slider"],o=0;o<a.length;o++){var i=a[o],r=n.find("."+i+"-f");r.length&&r[i]&&r[i]("clear")}f(e)}function o(e){e.reset();for(var n=t(e),a=["textbox","combo","combobox","combotree","combogrid","datebox","datetimebox","spinner","timespinner","numberbox","numberspinner","slider"],o=0;o<a.length;o++){var i=a[o],r=n.find("."+i+"-f");r.length&&r[i]&&r[i]("reset")}f(e)}function i(n){var a=t.data(n,"form").options;t(n).unbind(".form"),a.ajax&&t(n).bind("submit.form",function(){return setTimeout(function(){e(n,a)},0),!1}),c(n,a.novalidate)}function r(e,n){n=n||{};var a=t.data(e,"form");a?t.extend(a.options,n):t.data(e,"form",{options:t.extend({},t.fn.form.defaults,t.fn.form.parseOptions(e),n)})}function f(e){if(t.fn.validatebox){var n=t(e);n.find(".validatebox-text:not(:disabled)").validatebox("validate");var a=n.find(".validatebox-invalid");return a.filter(":not(:disabled):first").focus(),0==a.length}return!0}function c(e,n){t.data(e,"form").options.novalidate=n,t(e).find(".validatebox-text:not(:disabled)").validatebox(n?"disableValidation":"enableValidation")}t.fn.form=function(e,n){return"string"==typeof e?(this.each(function(){r(this)}),t.fn.form.methods[e](this,n)):this.each(function(){r(this,e),i(this)})},t.fn.form.methods={options:function(e){return t.data(e[0],"form").options},submit:function(t,n){return t.each(function(){e(this,n)})},load:function(t,e){return t.each(function(){n(this,e)})},clear:function(t){return t.each(function(){a(this)})},reset:function(t){return t.each(function(){o(this)})},validate:function(t){return f(t[0])},disableValidation:function(t){return t.each(function(){c(this,!0)})},enableValidation:function(t){return t.each(function(){c(this,!1)})}},t.fn.form.parseOptions=function(e){var n=t(e);return t.extend({},t.parser.parseOptions(e,[{ajax:"boolean"}]),{url:n.attr("action")?n.attr("action"):void 0})},t.fn.form.defaults={novalidate:!1,ajax:!0,url:null,queryParams:{},onSubmit:function(e){return t(this).form("validate")},success:function(t){},onBeforeLoad:function(t){},onLoadSuccess:function(t){},onLoadError:function(){}}}(jQuery);
//# sourceMappingURL=jquery.form.js.map