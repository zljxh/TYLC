/**
 * jQuery EasyUI 1.4.1
 * 
 * Copyright (c) 2009-2014 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function($){function init(e){var i=$('<div class="slider"><div class="slider-inner"><a href="javascript:void(0)" class="slider-handle"></a><span class="slider-tip"></span></div><div class="slider-rule"></div><div class="slider-rulelabel"></div><div style="clear:both"></div><input type="hidden" class="slider-value"></div>').insertAfter(e),t=$(e);t.addClass("slider-f").hide();var n=t.attr("name");return n&&(i.find("input.slider-value").attr("name",n),t.removeAttr("name").attr("sliderName",n)),i.bind("_resize",function(i,t){return($(this).hasClass("easyui-fluid")||t)&&setSize(e),!1}),i}function setSize(e,i){var t=$.data(e,"slider"),n=t.options,r=t.slider;i&&(i.width&&(n.width=i.width),i.height&&(n.height=i.height)),r._size(n),"h"==n.mode?(r.css("height",""),r.children("div").css("height","")):(r.css("width",""),r.children("div").css("width",""),r.children("div.slider-rule,div.slider-rulelabel,div.slider-inner")._outerHeight(r._outerHeight())),initValue(e)}function showRule(e){var i=$.data(e,"slider"),t=i.options,n=i.slider,r="h"==t.mode?t.rule:t.rule.slice(0).reverse();t.reversed&&(r=r.slice(0).reverse()),function(e){var i=n.find("div.slider-rule"),r=n.find("div.slider-rulelabel");i.empty(),r.empty();for(var a=0;a<e.length;a++){var s=100*a/(e.length-1)+"%",d=$("<span></span>").appendTo(i);d.css("h"==t.mode?"left":"top",s),"|"!=e[a]&&(d=$("<span></span>").appendTo(r),d.html(e[a]),"h"==t.mode?d.css({left:s,marginLeft:-Math.round(d.outerWidth()/2)}):d.css({top:s,marginTop:-Math.round(d.outerHeight()/2)}))}}(r)}function buildSlider(e){function i(i){var t=Math.abs(i%n.step);t<n.step/2?i-=t:i=i-t+n.step,setValue(e,i)}var t=$.data(e,"slider"),n=t.options,r=t.slider;r.removeClass("slider-h slider-v slider-disabled"),r.addClass("h"==n.mode?"slider-h":"slider-v"),r.addClass(n.disabled?"slider-disabled":""),r.find("a.slider-handle").draggable({axis:n.mode,cursor:"pointer",disabled:n.disabled,onDrag:function(t){var a=t.data.left,s=r.width();return"h"!=n.mode&&(a=t.data.top,s=r.height()),!(a<0||a>s)&&(i(pos2value(e,a)),!1)},onBeforeDrag:function(){t.isDragging=!0},onStartDrag:function(){n.onSlideStart.call(e,n.value)},onStopDrag:function(r){i(pos2value(e,"h"==n.mode?r.data.left:r.data.top)),n.onSlideEnd.call(e,n.value),n.onComplete.call(e,n.value),t.isDragging=!1}}),r.find("div.slider-inner").unbind(".slider").bind("mousedown.slider",function(r){if(!t.isDragging&&!n.disabled){var a=$(this).offset();i(pos2value(e,"h"==n.mode?r.pageX-a.left:r.pageY-a.top)),n.onComplete.call(e,n.value)}})}function setValue(e,i){var t=$.data(e,"slider"),n=t.options,r=t.slider,a=n.value;i<n.min&&(i=n.min),i>n.max&&(i=n.max),n.value=i,$(e).val(i),r.find("input.slider-value").val(i);var s=value2pos(e,i),d=r.find(".slider-tip");if(n.showTip?(d.show(),d.html(n.tipFormatter.call(e,n.value))):d.hide(),"h"==n.mode){var l="left:"+s+"px;";r.find(".slider-handle").attr("style",l),d.attr("style",l+"margin-left:"+-Math.round(d.outerWidth()/2)+"px")}else{var l="top:"+s+"px;";r.find(".slider-handle").attr("style",l),d.attr("style",l+"margin-left:"+-Math.round(d.outerWidth())+"px")}a!=i&&n.onChange.call(e,i,a)}function initValue(e){var i=$.data(e,"slider").options,t=i.onChange;i.onChange=function(){},setValue(e,i.value),i.onChange=t}function value2pos(e,i){var t=$.data(e,"slider"),n=t.options,r=t.slider,a="h"==n.mode?r.width():r.height(),s=n.converter.toPosition.call(e,i,a);return"v"==n.mode&&(s=r.height()-s),n.reversed&&(s=a-s),s.toFixed(0)}function pos2value(e,i){var t=$.data(e,"slider"),n=t.options,r=t.slider,a="h"==n.mode?r.width():r.height();return n.converter.toValue.call(e,"h"==n.mode?n.reversed?a-i:i:a-i,a).toFixed(0)}$.fn.slider=function(e,i){return"string"==typeof e?$.fn.slider.methods[e](this,i):(e=e||{},this.each(function(){var i=$.data(this,"slider");i?$.extend(i.options,e):(i=$.data(this,"slider",{options:$.extend({},$.fn.slider.defaults,$.fn.slider.parseOptions(this),e),slider:init(this)}),$(this).removeAttr("disabled"));var t=i.options;t.min=parseFloat(t.min),t.max=parseFloat(t.max),t.value=parseFloat(t.value),t.step=parseFloat(t.step),t.originalValue=t.value,buildSlider(this),showRule(this),setSize(this)}))},$.fn.slider.methods={options:function(e){return $.data(e[0],"slider").options},destroy:function(e){return e.each(function(){$.data(this,"slider").slider.remove(),$(this).remove()})},resize:function(e,i){return e.each(function(){setSize(this,i)})},getValue:function(e){return e.slider("options").value},setValue:function(e,i){return e.each(function(){setValue(this,i)})},clear:function(e){return e.each(function(){setValue(this,$(this).slider("options").min)})},reset:function(e){return e.each(function(){setValue(this,$(this).slider("options").originalValue)})},enable:function(e){return e.each(function(){$.data(this,"slider").options.disabled=!1,buildSlider(this)})},disable:function(e){return e.each(function(){$.data(this,"slider").options.disabled=!0,buildSlider(this)})}},$.fn.slider.parseOptions=function(target){var t=$(target);return $.extend({},$.parser.parseOptions(target,["width","height","mode",{reversed:"boolean",showTip:"boolean",min:"number",max:"number",step:"number"}]),{value:t.val()||void 0,disabled:!!t.attr("disabled")||void 0,rule:t.attr("rule")?eval(t.attr("rule")):void 0})},$.fn.slider.defaults={width:"auto",height:"auto",mode:"h",reversed:!1,showTip:!1,disabled:!1,value:0,min:0,max:100,step:1,rule:[],tipFormatter:function(e){return e},converter:{toPosition:function(e,i){var t=$(this).slider("options");return(e-t.min)/(t.max-t.min)*i},toValue:function(e,i){var t=$(this).slider("options");return t.min+(t.max-t.min)*(e/i)}},onChange:function(e,i){},onSlideStart:function(e){},onSlideEnd:function(e){},onComplete:function(e){}}}(jQuery);
//# sourceMappingURL=jquery.slider.js.map