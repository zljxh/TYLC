/**
 * jQuery EasyUI 1.4.2
 * 
 * Copyright (c) 2009-2015 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function(e){function t(t){var n=e.data(t,"combotree"),r=n.options,c=n.tree;e(t).addClass("combotree-f"),e(t).combo(r);var a=e(t).combo("panel");c||(c=e("<ul></ul>").appendTo(a),e.data(t,"combotree").tree=c),c.tree(e.extend({},r,{checkbox:r.multiple,onLoadSuccess:function(o,n){var a=e(t).combotree("getValues");if(r.multiple)for(var i=c.tree("getChecked"),s=0;s<i.length;s++){var u=i[s].id;!function(){for(var e=0;e<a.length;e++)if(u==a[e])return;a.push(u)}()}e(t).combotree("setValues",a),r.onLoadSuccess.call(this,o,n)},onClick:function(n){r.multiple?e(this).tree(n.checked?"uncheck":"check",n.target):e(t).combo("hidePanel"),o(t),r.onClick.call(this,n)},onCheck:function(e,n){o(t),r.onCheck.call(this,e,n)}}))}function o(t){var o=e.data(t,"combotree"),n=o.options,r=o.tree,c=[],a=[];if(n.multiple)for(var i=r.tree("getChecked"),s=0;s<i.length;s++)c.push(i[s].id),a.push(i[s].text);else{var u=r.tree("getSelected");u&&(c.push(u.id),a.push(u.text))}e(t).combo("setText",a.join(n.separator)).combo("setValues",n.multiple?c:c.length?c:[""])}function n(t,o){var n=e.data(t,"combotree"),r=n.options,c=n.tree,a=c.tree("options"),i=a.onCheck,s=a.onSelect;a.onCheck=a.onSelect=function(){},c.find("span.tree-checkbox").addClass("tree-checkbox0").removeClass("tree-checkbox1 tree-checkbox2"),e.isArray(o)||(o=o.split(r.separator));var u=e.map(o,function(e){return String(e)}),l=[];if(e.map(u,function(e){var t=c.tree("find",e);t?(c.tree("check",t.target).tree("select",t.target),l.push(t.text)):l.push(e)}),r.multiple){var h=c.tree("getChecked");e.map(h,function(t){var o=String(t.id);-1==e.inArray(o,u)&&(u.push(o),l.push(t.text))})}a.onCheck=i,a.onSelect=s,e(t).combo("setText",l.join(r.separator)).combo("setValues",r.multiple?u:u.length?u:[""])}e.fn.combotree=function(o,n){if("string"==typeof o){var r=e.fn.combotree.methods[o];return r?r(this,n):this.combo(o,n)}return o=o||{},this.each(function(){var n=e.data(this,"combotree");n?e.extend(n.options,o):e.data(this,"combotree",{options:e.extend({},e.fn.combotree.defaults,e.fn.combotree.parseOptions(this),o)}),t(this)})},e.fn.combotree.methods={options:function(t){var o=t.combo("options");return e.extend(e.data(t[0],"combotree").options,{width:o.width,height:o.height,originalValue:o.originalValue,disabled:o.disabled,readonly:o.readonly})},clone:function(t,o){var n=t.combo("clone",o);return n.data("combotree",{options:e.extend(!0,{},t.combotree("options")),tree:t.combotree("tree")}),n},tree:function(t){return e.data(t[0],"combotree").tree},loadData:function(t,o){return t.each(function(){e.data(this,"combotree").options.data=o,e.data(this,"combotree").tree.tree("loadData",o)})},reload:function(t,o){return t.each(function(){var t=e.data(this,"combotree").options,n=e.data(this,"combotree").tree;o&&(t.url=o),n.tree({url:t.url})})},setValues:function(e,t){return e.each(function(){n(this,t)})},setValue:function(e,t){return e.each(function(){n(this,[t])})},clear:function(t){return t.each(function(){var t=e.data(this,"combotree").tree;t.find("div.tree-node-selected").removeClass("tree-node-selected");for(var o=t.tree("getChecked"),n=0;n<o.length;n++)t.tree("uncheck",o[n].target);e(this).combo("clear")})},reset:function(t){return t.each(function(){var t=e(this).combotree("options");t.multiple?e(this).combotree("setValues",t.originalValue):e(this).combotree("setValue",t.originalValue)})}},e.fn.combotree.parseOptions=function(t){return e.extend({},e.fn.combo.parseOptions(t),e.fn.tree.parseOptions(t))},e.fn.combotree.defaults=e.extend({},e.fn.combo.defaults,e.fn.tree.defaults,{editable:!1})}(jQuery);
//# sourceMappingURL=jquery.combotree.js.map