/**
 * jQuery EasyUI 1.4.2
 * 
 * Copyright (c) 2009-2015 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function(e){function t(t){var n=e.data(t,"treegrid"),i=n.options;e(t).datagrid(e.extend({},i,{url:null,data:null,loader:function(){return!1},onBeforeLoad:function(){return!1},onLoadSuccess:function(){},onResizeColumn:function(e,n){r(t),i.onResizeColumn.call(t,e,n)},onBeforeSortColumn:function(e,r){if(0==i.onBeforeSortColumn.call(t,e,r))return!1},onSortColumn:function(r,n){if(i.sortName=r,i.sortOrder=n,i.remoteSort)l(t);else{var d=e(t).treegrid("getData");o(t,0,d)}i.onSortColumn.call(t,r,n)},onClickCell:function(e,r){i.onClickCell.call(t,r,h(t,e))},onDblClickCell:function(e,r){i.onDblClickCell.call(t,r,h(t,e))},onRowContextMenu:function(e,r){i.onContextMenu.call(t,e,h(t,r))}}));var d=e.data(t,"datagrid").options;if(i.columns=d.columns,i.frozenColumns=d.frozenColumns,n.dc=e.data(t,"datagrid").dc,i.pagination){var a=e(t).datagrid("getPager");a.pagination({pageNumber:i.pageNumber,pageSize:i.pageSize,pageList:i.pageList,onSelectPage:function(e,r){i.pageNumber=e,i.pageSize=r,l(t)}}),i.pageSize=a.pagination("options").pageSize}}function r(t,r){var n=e.data(t,"datagrid").options;if(!e.data(t,"datagrid").dc.body1.is(":empty")&&(!n.nowrap||n.autoRowHeight)&&void 0!=r)for(var i=g(t,r),d=0;d<i.length;d++)!function(e){var r=n.finder.getTr(t,e,"body",1),i=n.finder.getTr(t,e,"body",2);r.css("height",""),i.css("height","");var d=Math.max(r.height(),i.height());r.css("height",d),i.css("height",d)}(i[d][n.idField]);e(t).datagrid("fixRowHeight",r)}function n(t){var r=e.data(t,"datagrid").dc;e.data(t,"treegrid").options.rownumbers&&r.body1.find("div.datagrid-cell-rownumber").each(function(t){e(this).html(t+1)})}function i(t){return function(r){e.fn.datagrid.defaults.rowEvents[t?"mouseover":"mouseout"](r);var n=e(r.target),i=t?"addClass":"removeClass";n.hasClass("tree-hit")&&(n.hasClass("tree-expanded")?n[i]("tree-expanded-hover"):n[i]("tree-collapsed-hover"))}}function d(t){var r=e(t.target);if(r.hasClass("tree-hit")){var n=r.closest("tr.datagrid-row");m(n.closest("div.datagrid-view").children(".datagrid-f")[0],n.attr("node-id"))}else e.fn.datagrid.defaults.rowEvents.click(t)}function a(t,r){function n(t,r){e('<tr class="treegrid-tr-tree"><td style="border:0px" colspan="'+r+'"><div></div></td></tr>').insertAfter(t)}var i=e.data(t,"treegrid").options,d=i.finder.getTr(t,r,"body",1),a=i.finder.getTr(t,r,"body",2),o=e(t).datagrid("getColumnFields",!0).length+(i.rownumbers?1:0),l=e(t).datagrid("getColumnFields",!1).length;n(d,o),n(a,l)}function o(t,i,d,a){var o=e.data(t,"treegrid"),l=o.options,s=o.dc;d=l.loadFilter.call(t,d,i);var c=h(t,i);if(c){var f=l.finder.getTr(t,i,"body",1),g=l.finder.getTr(t,i,"body",2),u=f.next("tr.treegrid-tr-tree").children("td").children("div"),p=g.next("tr.treegrid-tr-tree").children("td").children("div");a||(c.children=[])}else{var u=s.body1,p=s.body2;a||(o.data=[])}if(a||(u.empty(),p.empty()),l.view.onBeforeRender&&l.view.onBeforeRender.call(l.view,t,i,d),l.view.render.call(l.view,t,u,!0),l.view.render.call(l.view,t,p,!1),l.showFooter&&(l.view.renderFooter.call(l.view,t,s.footer1,!0),l.view.renderFooter.call(l.view,t,s.footer2,!1)),l.view.onAfterRender&&l.view.onAfterRender.call(l.view,t),!i&&l.pagination){var v=e.data(t,"treegrid").total,m=e(t).datagrid("getPager");m.pagination("options").total!=v&&m.pagination({total:v})}r(t),n(t),e(t).treegrid("showLines"),e(t).treegrid("setSelectionState"),e(t).treegrid("autoSizeColumn"),l.onLoadSuccess.call(t,c,d)}function l(t,r,n,i,d){var a=e.data(t,"treegrid").options,l=e(t).datagrid("getPanel").find("div.datagrid-body");n&&(a.queryParams=n);var s=e.extend({},a.queryParams);a.pagination&&e.extend(s,{page:a.pageNumber,rows:a.pageSize}),a.sortName&&e.extend(s,{sort:a.sortName,order:a.sortOrder});var c=h(t,r);if(0!=a.onBeforeLoad.call(t,c,s)){var f=l.find('tr[node-id="'+r+'"] span.tree-folder');f.addClass("tree-loading"),e(t).treegrid("loading");0==a.loader.call(t,s,function(n){f.removeClass("tree-loading"),e(t).treegrid("loaded"),o(t,r,n,i),d&&d()},function(){f.removeClass("tree-loading"),e(t).treegrid("loaded"),a.onLoadError.apply(t,arguments),d&&d()})&&(f.removeClass("tree-loading"),e(t).treegrid("loaded"))}}function s(e){var t=c(e);return t.length?t[0]:null}function c(t){return e.data(t,"treegrid").data}function f(e,t){var r=h(e,t);return r._parentId?h(e,r._parentId):null}function g(t,r){function n(e){var r=h(t,e);if(r&&r.children)for(var a=0,o=r.children.length;a<o;a++){var l=r.children[a];d.push(l),n(l[i.idField])}}var i=e.data(t,"treegrid").options,d=(e(t).datagrid("getPanel").find("div.datagrid-view2 div.datagrid-body"),[]);if(r)n(r);else for(var a=c(t),o=0;o<a.length;o++)d.push(a[o]),n(a[o][i.idField]);return d}function u(t,r){if(!r)return 0;var n=e.data(t,"treegrid").options;return e(t).datagrid("getPanel").children("div.datagrid-view").find('div.datagrid-body tr[node-id="'+r+'"]').children('td[field="'+n.treeField+'"]').find("span.tree-indent,span.tree-hit").length}function h(t,r){for(var n=e.data(t,"treegrid").options,i=e.data(t,"treegrid").data,d=[i];d.length;)for(var a=d.shift(),o=0;o<a.length;o++){var l=a[o];if(l[n.idField]==r)return l;l.children&&d.push(l.children)}return null}function p(t,n){var i=e.data(t,"treegrid").options,d=h(t,n),a=i.finder.getTr(t,n),o=a.find("span.tree-hit");if(0!=o.length&&!o.hasClass("tree-collapsed")&&0!=i.onBeforeCollapse.call(t,d)){o.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),o.next().removeClass("tree-folder-open"),d.state="closed",a=a.next("tr.treegrid-tr-tree");var l=a.children("td").children("div");i.animate?l.slideUp("normal",function(){e(t).treegrid("autoSizeColumn"),r(t,n),i.onCollapse.call(t,d)}):(l.hide(),e(t).treegrid("autoSizeColumn"),r(t,n),i.onCollapse.call(t,d))}}function v(t,n){function i(i){c.state="open",d.animate?i.slideDown("normal",function(){e(t).treegrid("autoSizeColumn"),r(t,n),d.onExpand.call(t,c)}):(i.show(),e(t).treegrid("autoSizeColumn"),r(t,n),d.onExpand.call(t,c))}var d=e.data(t,"treegrid").options,o=d.finder.getTr(t,n),s=o.find("span.tree-hit"),c=h(t,n);if(0!=s.length&&!s.hasClass("tree-expanded")&&0!=d.onBeforeExpand.call(t,c)){s.removeClass("tree-collapsed tree-collapsed-hover").addClass("tree-expanded"),s.next().addClass("tree-folder-open");var f=o.next("tr.treegrid-tr-tree");if(f.length){var g=f.children("td").children("div");i(g)}else{a(t,c[d.idField]);var f=o.next("tr.treegrid-tr-tree"),g=f.children("td").children("div");g.hide();var u=e.extend({},d.queryParams||{});u.id=c[d.idField],l(t,c[d.idField],u,!0,function(){g.is(":empty")?f.remove():i(g)})}}}function m(t,r){e.data(t,"treegrid").options.finder.getTr(t,r).find("span.tree-hit").hasClass("tree-expanded")?p(t,r):v(t,r)}function w(t,r){var n=e.data(t,"treegrid").options,i=g(t,r);r&&i.unshift(h(t,r));for(var d=0;d<i.length;d++)p(t,i[d][n.idField])}function C(t,r){var n=e.data(t,"treegrid").options,i=g(t,r);r&&i.unshift(h(t,r));for(var d=0;d<i.length;d++)v(t,i[d][n.idField])}function b(t,r){for(var n=e.data(t,"treegrid").options,i=[],d=f(t,r);d;){var a=d[n.idField];i.unshift(a),d=f(t,a)}for(var o=0;o<i.length;o++)v(t,i[o])}function y(t,r){var n=e.data(t,"treegrid").options;if(r.parent){var i=n.finder.getTr(t,r.parent);0==i.next("tr.treegrid-tr-tree").length&&a(t,r.parent);var d=i.children('td[field="'+n.treeField+'"]').children("div.datagrid-cell"),l=d.children("span.tree-icon");if(l.hasClass("tree-file")){l.removeClass("tree-file").addClass("tree-folder tree-folder-open");var s=e('<span class="tree-hit tree-expanded"></span>').insertBefore(l);s.prev().length&&s.prev().remove()}}o(t,r.parent,r.data,!0)}function x(t,r){function i(e){var n=e?1:2,i=a.finder.getTr(t,r.data[a.idField],"body",n),o=i.closest("table.datagrid-btable");i=i.parent().children();var l=a.finder.getTr(t,d,"body",n);if(r.before)i.insertBefore(l);else{var s=l.next("tr.treegrid-tr-tree");i.insertAfter(s.length?s:l)}o.remove()}var d=r.before||r.after,a=e.data(t,"treegrid").options,o=f(t,d);y(t,{parent:o?o[a.idField]:null,data:[r.data]});for(var l=o?o.children:e(t).treegrid("getRoots"),s=0;s<l.length;s++)if(l[s][a.idField]==d){var c=l[l.length-1];l.splice(r.before?s:s+1,0,c),l.splice(l.length-1,1);break}i(!0),i(!1),n(t),e(t).treegrid("showLines")}function F(t,r){var i=e.data(t,"treegrid");e(t).datagrid("deleteRow",r),n(t),i.total-=1,e(t).datagrid("getPager").pagination("refresh",{total:i.total}),e(t).treegrid("showLines")}function R(t){function r(t){if(e.map(t,function(e){if(e.children&&e.children.length)r(e.children);else{i(e).find(".tree-icon").prev().addClass("tree-join")}}),t.length){var n=i(t[t.length-1]);n.addClass("tree-node-last"),n.find(".tree-join").removeClass("tree-join").addClass("tree-joinbottom")}}function n(r){e.map(r,function(e){e.children&&e.children.length&&n(e.children)});for(var i=0;i<r.length-1;i++){var o=r[i],l=d.treegrid("getLevel",o[a.idField]);a.finder.getTr(t,o[a.idField]).next().find('tr.datagrid-row td[field="'+a.treeField+'"] div.datagrid-cell').find("span:eq("+(l-1)+")").addClass("tree-line")}}function i(e){return a.finder.getTr(t,e[a.idField]).find('td[field="'+a.treeField+'"] div.datagrid-cell')}var d=e(t),a=d.treegrid("options");if(!a.lines)return void d.treegrid("getPanel").removeClass("tree-lines");d.treegrid("getPanel").addClass("tree-lines"),d.treegrid("getPanel").find("span.tree-indent").removeClass("tree-line tree-join tree-joinbottom"),d.treegrid("getPanel").find("div.datagrid-cell").removeClass("tree-node-last tree-root-first tree-root-one");var o=d.treegrid("getRoots");o.length>1?i(o[0]).addClass("tree-root-first"):1==o.length&&i(o[0]).addClass("tree-root-one"),r(o),n(o)}e.fn.treegrid=function(r,n){if("string"==typeof r){var i=e.fn.treegrid.methods[r];return i?i(this,n):this.datagrid(r,n)}return r=r||{},this.each(function(){var n=e.data(this,"treegrid");n?e.extend(n.options,r):n=e.data(this,"treegrid",{options:e.extend({},e.fn.treegrid.defaults,e.fn.treegrid.parseOptions(this),r),data:[]}),t(this),n.options.data&&e(this).treegrid("loadData",n.options.data),l(this)})},e.fn.treegrid.methods={options:function(t){return e.data(t[0],"treegrid").options},resize:function(t,r){return t.each(function(){e(this).datagrid("resize",r)})},fixRowHeight:function(e,t){return e.each(function(){r(this,t)})},loadData:function(e,t){return e.each(function(){o(this,t.parent,t)})},load:function(t,r){return t.each(function(){e(this).treegrid("options").pageNumber=1,e(this).treegrid("getPager").pagination({pageNumber:1}),e(this).treegrid("reload",r)})},reload:function(t,r){return t.each(function(){var t=e(this).treegrid("options"),n={};if("object"==typeof r?n=r:(n=e.extend({},t.queryParams),n.id=r),n.id){var i=e(this).treegrid("find",n.id);i.children&&i.children.splice(0,i.children.length),t.queryParams=n;var d=t.finder.getTr(this,n.id);d.next("tr.treegrid-tr-tree").remove(),d.find("span.tree-hit").removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),v(this,n.id)}else l(this,null,n)})},reloadFooter:function(t,r){return t.each(function(){var t=e.data(this,"treegrid").options,n=e.data(this,"datagrid").dc;r&&(e.data(this,"treegrid").footer=r),t.showFooter&&(t.view.renderFooter.call(t.view,this,n.footer1,!0),t.view.renderFooter.call(t.view,this,n.footer2,!1),t.view.onAfterRender&&t.view.onAfterRender.call(t.view,this),e(this).treegrid("fixRowHeight"))})},getData:function(t){return e.data(t[0],"treegrid").data},getFooterRows:function(t){return e.data(t[0],"treegrid").footer},getRoot:function(e){return s(e[0])},getRoots:function(e){return c(e[0])},getParent:function(e,t){return f(e[0],t)},getChildren:function(e,t){return g(e[0],t)},getLevel:function(e,t){return u(e[0],t)},find:function(e,t){return h(e[0],t)},isLeaf:function(t,r){return 0==e.data(t[0],"treegrid").options.finder.getTr(t[0],r).find("span.tree-hit").length},select:function(t,r){return t.each(function(){e(this).datagrid("selectRow",r)})},unselect:function(t,r){return t.each(function(){e(this).datagrid("unselectRow",r)})},collapse:function(e,t){return e.each(function(){p(this,t)})},expand:function(e,t){return e.each(function(){v(this,t)})},toggle:function(e,t){return e.each(function(){m(this,t)})},collapseAll:function(e,t){return e.each(function(){w(this,t)})},expandAll:function(e,t){return e.each(function(){C(this,t)})},expandTo:function(e,t){return e.each(function(){b(this,t)})},append:function(e,t){return e.each(function(){y(this,t)})},insert:function(e,t){return e.each(function(){x(this,t)})},remove:function(e,t){return e.each(function(){F(this,t)})},pop:function(e,t){var r=e.treegrid("find",t);return e.treegrid("remove",t),r},refresh:function(t,r){return t.each(function(){var t=e.data(this,"treegrid").options;t.view.refreshRow.call(t.view,this,r)})},update:function(t,r){return t.each(function(){var t=e.data(this,"treegrid").options;t.view.updateRow.call(t.view,this,r.id,r.row)})},beginEdit:function(t,r){return t.each(function(){e(this).datagrid("beginEdit",r),e(this).treegrid("fixRowHeight",r)})},endEdit:function(t,r){return t.each(function(){e(this).datagrid("endEdit",r)})},cancelEdit:function(t,r){return t.each(function(){e(this).datagrid("cancelEdit",r)})},showLines:function(e){return e.each(function(){R(this)})}},e.fn.treegrid.parseOptions=function(t){return e.extend({},e.fn.datagrid.parseOptions(t),e.parser.parseOptions(t,["treeField",{animate:"boolean"}]))};var k=e.extend({},e.fn.datagrid.defaults.view,{render:function(t,r,n){function i(r,n,s){for(var c=e(t).treegrid("getParent",s[0][d.idField]),f=(c?c.children.length:e(t).treegrid("getRoots").length)-s.length,g=['<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>'],u=0;u<s.length;u++){var h=s[u];"open"!=h.state&&"closed"!=h.state&&(h.state="open");var p=d.rowStyler?d.rowStyler.call(t,h):"",v="",m="";"string"==typeof p?m=p:p&&(v=p.class||"",m=p.style||"");var w='class="datagrid-row '+(f++%2&&d.striped?"datagrid-row-alt ":" ")+v+'"',C=m?'style="'+m+'"':"",b=o+"-"+(r?1:2)+"-"+h[d.idField];if(g.push('<tr id="'+b+'" node-id="'+h[d.idField]+'" '+w+" "+C+">"),g=g.concat(l.renderRow.call(l,t,a,r,n,h)),g.push("</tr>"),h.children&&h.children.length){var y=i(r,n+1,h.children),x="closed"==h.state?"none":"block";g.push('<tr class="treegrid-tr-tree"><td style="border:0px" colspan='+(a.length+(d.rownumbers?1:0))+'><div style="display:'+x+'">'),g=g.concat(y),g.push("</div></td></tr>")}}return g.push("</tbody></table>"),g}var d=e.data(t,"treegrid").options,a=e(t).datagrid("getColumnFields",n),o=e.data(t,"datagrid").rowIdPrefix;if(!n||d.rownumbers||d.frozenColumns&&d.frozenColumns.length){var l=this;if(this.treeNodes&&this.treeNodes.length){var s=i(n,this.treeLevel,this.treeNodes);e(r).append(s.join(""))}}},renderFooter:function(t,r,n){for(var i=e.data(t,"treegrid").options,d=e.data(t,"treegrid").footer||[],a=e(t).datagrid("getColumnFields",n),o=['<table class="datagrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody>'],l=0;l<d.length;l++){var s=d[l];s[i.idField]=s[i.idField]||"foot-row-id"+l,o.push('<tr class="datagrid-row" node-id="'+s[i.idField]+'">'),o.push(this.renderRow.call(this,t,a,n,0,s)),o.push("</tr>")}o.push("</tbody></table>"),e(r).html(o.join(""))},renderRow:function(t,r,n,i,d){var a=e.data(t,"treegrid").options,o=[];n&&a.rownumbers&&o.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">0</div></td>');for(var l=0;l<r.length;l++){var s=r[l],c=e(t).datagrid("getColumnOption",s);if(c){var f=c.styler?c.styler(d[s],d)||"":"",g="",u="";"string"==typeof f?u=f:o&&(g=f.class||"",u=f.style||"");var h=g?'class="'+g+'"':"",p=c.hidden?'style="display:none;'+u+'"':u?'style="'+u+'"':"";o.push('<td field="'+s+'" '+h+" "+p+">");var p="";if(c.checkbox||(c.align&&(p+="text-align:"+c.align+";"),a.nowrap?a.autoRowHeight&&(p+="height:auto;"):p+="white-space:normal;height:auto;"),o.push('<div style="'+p+'" '),c.checkbox?o.push('class="datagrid-cell-check '):o.push('class="datagrid-cell '+c.cellClass),o.push('">'),c.checkbox)d.checked?o.push('<input type="checkbox" checked="checked"'):o.push('<input type="checkbox"'),o.push(' name="'+s+'" value="'+(void 0!=d[s]?d[s]:"")+'">');else{var v=null;if(v=c.formatter?c.formatter(d[s],d):d[s],s==a.treeField){for(var m=0;m<i;m++)o.push('<span class="tree-indent"></span>');"closed"==d.state?(o.push('<span class="tree-hit tree-collapsed"></span>'),o.push('<span class="tree-icon tree-folder '+(d.iconCls?d.iconCls:"")+'"></span>')):d.children&&d.children.length?(o.push('<span class="tree-hit tree-expanded"></span>'),o.push('<span class="tree-icon tree-folder tree-folder-open '+(d.iconCls?d.iconCls:"")+'"></span>')):(o.push('<span class="tree-indent"></span>'),o.push('<span class="tree-icon tree-file '+(d.iconCls?d.iconCls:"")+'"></span>')),o.push('<span class="tree-title">'+v+"</span>")}else o.push(v)}o.push("</div>"),o.push("</td>")}}return o.join("")},refreshRow:function(e,t){this.updateRow.call(this,e,t,{})},updateRow:function(t,r,n){function i(n){var i=e(t).treegrid("getColumnFields",n),f=d.finder.getTr(t,r,"body",n?1:2),g=f.find("div.datagrid-cell-rownumber").html(),u=f.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");f.html(this.renderRow(t,i,n,o,a)),f.attr("style",l||""),f.find("div.datagrid-cell-rownumber").html(g),u&&f.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",!0),c!=r&&(f.attr("id",s+"-"+(n?1:2)+"-"+c),f.attr("node-id",c))}var d=e.data(t,"treegrid").options,a=e(t).treegrid("find",r);e.extend(a,n);var o=e(t).treegrid("getLevel",r)-1,l=d.rowStyler?d.rowStyler.call(t,a):"",s=e.data(t,"datagrid").rowIdPrefix,c=a[d.idField];i.call(this,!0),i.call(this,!1),e(t).treegrid("fixRowHeight",r)},deleteRow:function(t,r){var n=e.data(t,"treegrid").options,i=n.finder.getTr(t,r);i.next("tr.treegrid-tr-tree").remove(),i.remove();var d=function(r){var i,d=e(t).treegrid("getParent",r);i=d?d.children:e(t).treegrid("getData");for(var a=0;a<i.length;a++)if(i[a][n.idField]==r){i.splice(a,1);break}return d}(r);if(d&&0==d.children.length){i=n.finder.getTr(t,d[n.idField]),i.next("tr.treegrid-tr-tree").remove();var a=i.children('td[field="'+n.treeField+'"]').children("div.datagrid-cell");a.find(".tree-icon").removeClass("tree-folder").addClass("tree-file"),a.find(".tree-hit").remove(),e('<span class="tree-indent"></span>').prependTo(a)}},onBeforeRender:function(t,r,n){function i(e,t){for(var r=0;r<e.length;r++){var n=e[r];n._parentId=t,n.children&&n.children.length&&i(n.children,n[a.idField])}}if(e.isArray(r)&&(n={total:r.length,rows:r},r=null),!n)return!1;var d=e.data(t,"treegrid"),a=d.options;void 0==n.length?(n.footer&&(d.footer=n.footer),n.total&&(d.total=n.total),n=this.transfer(t,r,n.rows)):i(n,r);var o=h(t,r);o?o.children?o.children=o.children.concat(n):o.children=n:d.data=d.data.concat(n),this.sort(t,n),this.treeNodes=n,this.treeLevel=e(t).treegrid("getLevel",r)},sort:function(t,r){function n(r){r.sort(function(r,n){for(var i=0,o=0;o<d.length;o++){var l=d[o],s=a[o];if(0!=(i=(e(t).treegrid("getColumnOption",l).sorter||function(e,t){return e==t?0:e>t?1:-1})(r[l],n[l])*("asc"==s?1:-1)))return i}return i});for(var i=0;i<r.length;i++){var o=r[i].children;o&&o.length&&n(o)}}var i=e.data(t,"treegrid").options;if(!i.remoteSort&&i.sortName){var d=i.sortName.split(","),a=i.sortOrder.split(",");n(r)}},transfer:function(t,r,n){for(var i=e.data(t,"treegrid").options,d=[],a=0;a<n.length;a++)d.push(n[a]);for(var o=[],a=0;a<d.length;a++){var l=d[a];r?l._parentId==r&&(o.push(l),d.splice(a,1),a--):l._parentId||(o.push(l),d.splice(a,1),a--)}for(var s=[],a=0;a<o.length;a++)s.push(o[a]);for(;s.length;)for(var c=s.shift(),a=0;a<d.length;a++){var l=d[a];l._parentId==c[i.idField]&&(c.children?c.children.push(l):c.children=[l],s.push(l),d.splice(a,1),a--)}return o}});e.fn.treegrid.defaults=e.extend({},e.fn.datagrid.defaults,{treeField:null,lines:!1,animate:!1,singleSelect:!0,view:k,rowEvents:e.extend({},e.fn.datagrid.defaults.rowEvents,{mouseover:i(!0),mouseout:i(!1),click:d}),loader:function(t,r,n){var i=e(this).treegrid("options");if(!i.url)return!1;e.ajax({type:i.method,url:i.url,data:t,dataType:"json",success:function(e){r(e)},error:function(){n.apply(this,arguments)}})},loadFilter:function(e,t){return e},finder:{getTr:function(t,r,n,i){n=n||"body",i=i||0;var d=e.data(t,"datagrid").dc;if(0==i){var a=e.data(t,"treegrid").options,o=a.finder.getTr(t,r,n,1),l=a.finder.getTr(t,r,n,2);return o.add(l)}if("body"==n){var s=e("#"+e.data(t,"datagrid").rowIdPrefix+"-"+i+"-"+r);return s.length||(s=(1==i?d.body1:d.body2).find('tr[node-id="'+r+'"]')),s}return"footer"==n?(1==i?d.footer1:d.footer2).find('tr[node-id="'+r+'"]'):"selected"==n?(1==i?d.body1:d.body2).find("tr.datagrid-row-selected"):"highlight"==n?(1==i?d.body1:d.body2).find("tr.datagrid-row-over"):"checked"==n?(1==i?d.body1:d.body2).find("tr.datagrid-row-checked"):"last"==n?(1==i?d.body1:d.body2).find("tr:last[node-id]"):"allbody"==n?(1==i?d.body1:d.body2).find("tr[node-id]"):"allfooter"==n?(1==i?d.footer1:d.footer2).find("tr[node-id]"):void 0},getRow:function(t,r){var n="object"==typeof r?r.attr("node-id"):r;return e(t).treegrid("find",n)},getRows:function(t){return e(t).treegrid("getChildren")}},onBeforeLoad:function(e,t){},onLoadSuccess:function(e,t){},onLoadError:function(){},onBeforeCollapse:function(e){},onCollapse:function(e){},onBeforeExpand:function(e){},onExpand:function(e){},onClickRow:function(e){},onDblClickRow:function(e){},onClickCell:function(e,t){},onDblClickCell:function(e,t){},onContextMenu:function(e,t){},onBeforeEdit:function(e){},onAfterEdit:function(e,t){},onCancelEdit:function(e){}})}(jQuery);
//# sourceMappingURL=jquery.treegrid.js.map