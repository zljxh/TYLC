/**
 * jQuery EasyUI 1.4.2
 * 
 * Copyright (c) 2009-2015 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function(t){function e(e){function a(e){var a=t(e).datebox("options");t(e).combo("panel").unbind(".datebox").bind("click.datebox",function(n){if(t(n.target).hasClass("datebox-button-a")){var o=parseInt(t(n.target).attr("datebox-button-index"));a.buttons[o].handler.call(n.target,e)}})}function n(e){var a=t(e).combo("panel");if(!a.children("div.datebox-button").length){for(var n=t('<div class="datebox-button"><table cellspacing="0" cellpadding="0" style="width:100%"><tr></tr></table></div>').appendTo(a),o=n.find("tr"),r=0;r<d.buttons.length;r++){var i=t("<td></td>").appendTo(o),l=d.buttons[r];t('<a class="datebox-button-a" href="javascript:void(0)"></a>').html(t.isFunction(l.text)?l.text(e):l.text).appendTo(i).attr("datebox-button-index",r)}o.find("td").css("width",100/d.buttons.length+"%")}}function r(e){var a=t(e).combo("panel"),n=a.children("div.datebox-calendar-inner");if(a.children()._outerWidth(a.width()),i.calendar.appendTo(n),i.calendar[0].target=e,"auto"!=d.panelHeight){var o=a.height();a.children().not(n).each(function(){o-=t(this).outerHeight()}),n._outerHeight(o)}i.calendar.calendar("resize")}var i=t.data(e,"datebox"),d=i.options;if(t(e).addClass("datebox-f").combo(t.extend({},d,{onShowPanel:function(){a(this),n(this),r(this),o(this,t(this).datebox("getText"),!0),d.onShowPanel.call(this)}})),!i.calendar){var l=t(e).combo("panel").css("overflow","hidden");l.panel("options").onBeforeDestroy=function(){var e=t(this).find(".calendar-shared");e.length&&e.insertBefore(e[0].pholder)};var s=t('<div class="datebox-calendar-inner"></div>').prependTo(l);if(d.sharedCalendar){var c=t(d.sharedCalendar);c[0].pholder||(c[0].pholder=t('<div class="calendar-pholder" style="display:none"></div>').insertAfter(c)),c.addClass("calendar-shared").appendTo(s),c.hasClass("calendar")||c.calendar(),i.calendar=c}else i.calendar=t("<div></div>").appendTo(s).calendar();t.extend(i.calendar.calendar("options"),{fit:!0,border:!1,onSelect:function(e){var a=this.target,n=t(a).datebox("options");o(a,n.formatter.call(a,e)),t(a).combo("hidePanel"),n.onSelect.call(a,e)}})}t(e).combo("textbox").parent().addClass("datebox"),t(e).datebox("initValue",d.value)}function a(t,e){o(t,e,!0)}function n(e){var a=t.data(e,"datebox"),n=a.options,r=a.calendar.calendar("options").current;r&&(o(e,n.formatter.call(e,r)),t(e).combo("hidePanel"))}function o(e,a,n){var o=t.data(e,"datebox"),r=o.options,i=o.calendar;i.calendar("moveTo",r.parser.call(e,a)),n?t(e).combo("setValue",a):(a&&(a=r.formatter.call(e,i.calendar("options").current)),t(e).combo("setText",a).combo("setValue",a))}t.fn.datebox=function(a,n){if("string"==typeof a){var o=t.fn.datebox.methods[a];return o?o(this,n):this.combo(a,n)}return a=a||{},this.each(function(){var n=t.data(this,"datebox");n?t.extend(n.options,a):t.data(this,"datebox",{options:t.extend({},t.fn.datebox.defaults,t.fn.datebox.parseOptions(this),a)}),e(this)})},t.fn.datebox.methods={options:function(e){var a=e.combo("options");return t.extend(t.data(e[0],"datebox").options,{width:a.width,height:a.height,originalValue:a.originalValue,disabled:a.disabled,readonly:a.readonly})},cloneFrom:function(e,a){return e.each(function(){t(this).combo("cloneFrom",a),t.data(this,"datebox",{options:t.extend(!0,{},t(a).datebox("options")),calendar:t(a).datebox("calendar")}),t(this).addClass("datebox-f")})},calendar:function(e){return t.data(e[0],"datebox").calendar},initValue:function(e,a){return e.each(function(){var e=t(this).datebox("options"),a=e.value;a&&(a=e.formatter.call(this,e.parser.call(this,a))),t(this).combo("initValue",a).combo("setText",a)})},setValue:function(t,e){return t.each(function(){o(this,e)})},reset:function(e){return e.each(function(){var e=t(this).datebox("options");t(this).datebox("setValue",e.originalValue)})}},t.fn.datebox.parseOptions=function(e){return t.extend({},t.fn.combo.parseOptions(e),t.parser.parseOptions(e,["sharedCalendar"]))},t.fn.datebox.defaults=t.extend({},t.fn.combo.defaults,{panelWidth:180,panelHeight:"auto",sharedCalendar:null,keyHandler:{up:function(t){},down:function(t){},left:function(t){},right:function(t){},enter:function(t){n(this)},query:function(t,e){a(this,t)}},currentText:"Today",closeText:"Close",okText:"Ok",buttons:[{text:function(e){return t(e).datebox("options").currentText},handler:function(e){var a=new Date;t(e).datebox("calendar").calendar({year:a.getFullYear(),month:a.getMonth()+1,current:new Date(a.getFullYear(),a.getMonth(),a.getDate())}),n(e)}},{text:function(e){return t(e).datebox("options").closeText},handler:function(e){t(this).closest("div.combo-panel").panel("close")}}],formatter:function(t){var e=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();return(a<10?"0"+a:a)+"/"+(n<10?"0"+n:n)+"/"+e},parser:function(t){if(!t)return new Date;var e=t.split("/"),a=parseInt(e[0],10),n=parseInt(e[1],10),o=parseInt(e[2],10);return isNaN(o)||isNaN(a)||isNaN(n)?new Date:new Date(o,a-1,n)},onSelect:function(t){}})}(jQuery);
//# sourceMappingURL=jquery.datebox.js.map