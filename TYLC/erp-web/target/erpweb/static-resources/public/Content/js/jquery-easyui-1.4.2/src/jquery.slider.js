/**
 * jQuery EasyUI 1.4.2
 * 
 * Copyright (c) 2009-2015 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function($){function init(e){var i=$('<div class="slider"><div class="slider-inner"><a href="javascript:void(0)" class="slider-handle"></a><span class="slider-tip"></span></div><div class="slider-rule"></div><div class="slider-rulelabel"></div><div style="clear:both"></div><input type="hidden" class="slider-value"></div>').insertAfter(e),t=$(e);t.addClass("slider-f").hide();var a=t.attr("name");return a&&(i.find("input.slider-value").attr("name",a),t.removeAttr("name").attr("sliderName",a)),i.bind("_resize",function(i,t){return($(this).hasClass("easyui-fluid")||t)&&setSize(e),!1}),i}function setSize(e,i){var t=$.data(e,"slider"),a=t.options,r=t.slider;i&&(i.width&&(a.width=i.width),i.height&&(a.height=i.height)),r._size(a),"h"==a.mode?(r.css("height",""),r.children("div").css("height","")):(r.css("width",""),r.children("div").css("width",""),r.children("div.slider-rule,div.slider-rulelabel,div.slider-inner")._outerHeight(r._outerHeight())),initValue(e)}function showRule(e){var i=$.data(e,"slider"),t=i.options,a=i.slider,r="h"==t.mode?t.rule:t.rule.slice(0).reverse();t.reversed&&(r=r.slice(0).reverse()),function(e){var i=a.find("div.slider-rule"),r=a.find("div.slider-rulelabel");i.empty(),r.empty();for(var s=0;s<e.length;s++){var n=100*s/(e.length-1)+"%",l=$("<span></span>").appendTo(i);l.css("h"==t.mode?"left":"top",n),"|"!=e[s]&&(l=$("<span></span>").appendTo(r),l.html(e[s]),"h"==t.mode?l.css({left:n,marginLeft:-Math.round(l.outerWidth()/2)}):l.css({top:n,marginTop:-Math.round(l.outerHeight()/2)}))}}(r)}function buildSlider(e){function i(i){var t=pos2value(e,i),r=Math.abs(t%a.step);if(r<a.step/2?t-=r:t=t-r+a.step,a.range){var s=a.value[0],n=a.value[1],l=parseFloat((s+n)/2);t<s?s=t:t>n?n=t:t<l?s=t:n=t,$(e).slider("setValues",[s,n])}else $(e).slider("setValue",t)}var t=$.data(e,"slider"),a=t.options,r=t.slider;r.removeClass("slider-h slider-v slider-disabled"),r.addClass("h"==a.mode?"slider-h":"slider-v"),r.addClass(a.disabled?"slider-disabled":"");var s=r.find(".slider-inner");s.html('<a href="javascript:void(0)" class="slider-handle"></a><span class="slider-tip"></span>'),a.range&&s.append('<a href="javascript:void(0)" class="slider-handle"></a><span class="slider-tip"></span>'),r.find("a.slider-handle").draggable({axis:a.mode,cursor:"pointer",disabled:a.disabled,onDrag:function(e){var t=e.data.left,s=r.width();return"h"!=a.mode&&(t=e.data.top,s=r.height()),!(t<0||t>s)&&(i(t),!1)},onBeforeDrag:function(){t.isDragging=!0},onStartDrag:function(){a.onSlideStart.call(e,a.value)},onStopDrag:function(r){i("h"==a.mode?r.data.left:r.data.top),a.onSlideEnd.call(e,a.value),a.onComplete.call(e,a.value),t.isDragging=!1}}),r.find("div.slider-inner").unbind(".slider").bind("mousedown.slider",function(r){if(!t.isDragging&&!a.disabled){var s=$(this).offset();i("h"==a.mode?r.pageX-s.left:r.pageY-s.top),a.onComplete.call(e,a.value)}})}function setValues(e,i){var t=$.data(e,"slider"),a=t.options,r=t.slider,s=$.isArray(a.value)?a.value:[a.value],n=[];$.isArray(i)||(i=$.map(String(i).split(a.separator),function(e){return parseFloat(e)})),r.find(".slider-value").remove();for(var l=$(e).attr("sliderName")||"",d=0;d<i.length;d++){var o=i[d];o<a.min&&(o=a.min),o>a.max&&(o=a.max);var u=$('<input type="hidden" class="slider-value">').appendTo(r);u.attr("name",l),u.val(o),n.push(o);var h=r.find(".slider-handle:eq("+d+")"),v=h.next(),p=value2pos(e,o);if(a.showTip?(v.show(),v.html(a.tipFormatter.call(e,o))):v.hide(),"h"==a.mode){var c="left:"+p+"px;";h.attr("style",c),v.attr("style",c+"margin-left:"+-Math.round(v.outerWidth()/2)+"px")}else{var c="top:"+p+"px;";h.attr("style",c),v.attr("style",c+"margin-left:"+-Math.round(v.outerWidth())+"px")}}a.value=a.range?n:n[0],$(e).val(a.range?n.join(a.separator):n[0]),s.join(",")!=n.join(",")&&a.onChange.call(e,a.value,a.range?s:s[0])}function initValue(e){var i=$.data(e,"slider").options,t=i.onChange;i.onChange=function(){},setValues(e,i.value),i.onChange=t}function value2pos(e,i){var t=$.data(e,"slider"),a=t.options,r=t.slider,s="h"==a.mode?r.width():r.height(),n=a.converter.toPosition.call(e,i,s);return"v"==a.mode&&(n=r.height()-n),a.reversed&&(n=s-n),n.toFixed(0)}function pos2value(e,i){var t=$.data(e,"slider"),a=t.options,r=t.slider,s="h"==a.mode?r.width():r.height();return a.converter.toValue.call(e,"h"==a.mode?a.reversed?s-i:i:s-i,s).toFixed(0)}$.fn.slider=function(e,i){return"string"==typeof e?$.fn.slider.methods[e](this,i):(e=e||{},this.each(function(){var i=$.data(this,"slider");i?$.extend(i.options,e):(i=$.data(this,"slider",{options:$.extend({},$.fn.slider.defaults,$.fn.slider.parseOptions(this),e),slider:init(this)}),$(this).removeAttr("disabled"));var t=i.options;t.min=parseFloat(t.min),t.max=parseFloat(t.max),t.range?($.isArray(t.value)||(t.value=$.map(String(t.value).split(t.separator),function(e){return parseFloat(e)})),t.value.length<2&&t.value.push(t.max)):t.value=parseFloat(t.value),t.step=parseFloat(t.step),t.originalValue=t.value,buildSlider(this),showRule(this),setSize(this)}))},$.fn.slider.methods={options:function(e){return $.data(e[0],"slider").options},destroy:function(e){return e.each(function(){$.data(this,"slider").slider.remove(),$(this).remove()})},resize:function(e,i){return e.each(function(){setSize(this,i)})},getValue:function(e){return e.slider("options").value},getValues:function(e){return e.slider("options").value},setValue:function(e,i){return e.each(function(){setValues(this,[i])})},setValues:function(e,i){return e.each(function(){setValues(this,i)})},clear:function(e){return e.each(function(){var e=$(this).slider("options");setValues(this,e.range?[e.min,e.max]:[e.min])})},reset:function(e){return e.each(function(){var e=$(this).slider("options");$(this).slider(e.range?"setValues":"setValue",e.originalValue)})},enable:function(e){return e.each(function(){$.data(this,"slider").options.disabled=!1,buildSlider(this)})},disable:function(e){return e.each(function(){$.data(this,"slider").options.disabled=!0,buildSlider(this)})}},$.fn.slider.parseOptions=function(target){var t=$(target);return $.extend({},$.parser.parseOptions(target,["width","height","mode",{reversed:"boolean",showTip:"boolean",range:"boolean",min:"number",max:"number",step:"number"}]),{value:t.val()||void 0,disabled:!!t.attr("disabled")||void 0,rule:t.attr("rule")?eval(t.attr("rule")):void 0})},$.fn.slider.defaults={width:"auto",height:"auto",mode:"h",reversed:!1,showTip:!1,disabled:!1,range:!1,value:0,separator:",",min:0,max:100,step:1,rule:[],tipFormatter:function(e){return e},converter:{toPosition:function(e,i){var t=$(this).slider("options");return(e-t.min)/(t.max-t.min)*i},toValue:function(e,i){var t=$(this).slider("options");return t.min+(t.max-t.min)*(e/i)}},onChange:function(e,i){},onSlideStart:function(e){},onSlideEnd:function(e){},onComplete:function(e){}}}(jQuery);
//# sourceMappingURL=jquery.slider.js.map