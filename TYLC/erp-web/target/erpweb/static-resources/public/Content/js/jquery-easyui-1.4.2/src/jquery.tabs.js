/**
 * jQuery EasyUI 1.4.2
 * 
 * Copyright (c) 2009-2015 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the GPL license: http://www.gnu.org/licenses/gpl.txt
 * To use it on other terms please contact us at info@jeasyui.com
 *
 */


!function($){function getContentWidth(t){var e=0;return $(t).children().each(function(){e+=$(this).outerWidth(!0)}),e}function setScrollers(t){var e=$.data(t,"tabs").options;if("left"!=e.tabPosition&&"right"!=e.tabPosition&&e.showHeader){var a=$(t).children("div.tabs-header"),s=a.children("div.tabs-tool"),i=a.children("div.tabs-scroller-left"),n=a.children("div.tabs-scroller-right"),o=a.children("div.tabs-wrap"),r=a.outerHeight();e.plain&&(r-=r-a.height()),s._outerHeight(r);var l=getContentWidth(a.find("ul.tabs")),d=a.width()-s._outerWidth();l>d?(i.add(n).show()._outerHeight(r),"left"==e.toolPosition?(s.css({left:i.outerWidth(),right:""}),o.css({marginLeft:i.outerWidth()+s._outerWidth(),marginRight:n._outerWidth(),width:d-i.outerWidth()-n.outerWidth()})):(s.css({left:"",right:n.outerWidth()}),o.css({marginLeft:i.outerWidth(),marginRight:n.outerWidth()+s._outerWidth(),width:d-i.outerWidth()-n.outerWidth()}))):(i.add(n).hide(),"left"==e.toolPosition?(s.css({left:0,right:""}),o.css({marginLeft:s._outerWidth(),marginRight:0,width:d})):(s.css({left:"",right:0}),o.css({marginLeft:0,marginRight:s._outerWidth(),width:d})))}}function addTools(container){var opts=$.data(container,"tabs").options,header=$(container).children("div.tabs-header");if(opts.tools)if("string"==typeof opts.tools)$(opts.tools).addClass("tabs-tool").appendTo(header),$(opts.tools).show();else{header.children("div.tabs-tool").remove();for(var tools=$('<div class="tabs-tool"><table cellspacing="0" cellpadding="0" style="height:100%"><tr></tr></table></div>').appendTo(header),tr=tools.find("tr"),i=0;i<opts.tools.length;i++){var td=$("<td></td>").appendTo(tr),tool=$('<a href="javascript:void(0);"></a>').appendTo(td);tool[0].onclick=eval(opts.tools[i].handler||function(){}),tool.linkbutton($.extend({},opts.tools[i],{plain:!0}))}}else header.children("div.tabs-tool").remove()}function setSize(t,e){function a(t,e){var a=t.panel("options"),s=a.tab.find("a.tabs-inner"),e=e||parseInt(a.tabWidth||i.tabWidth||void 0);e?s._outerWidth(e):s.css("width",""),s._outerHeight(i.tabHeight),s.css("lineHeight",s.height()+"px"),s.find(".easyui-fluid:visible").triggerHandler("_resize")}var s=$.data(t,"tabs"),i=s.options,n=$(t);if(i.doSize){e&&$.extend(i,{width:e.width,height:e.height}),n._size(i);var o=n.children("div.tabs-header"),r=n.children("div.tabs-panels"),l=o.find("div.tabs-wrap"),d=l.find(".tabs");if(d.children("li").removeClass("tabs-first tabs-last"),d.children("li:first").addClass("tabs-first"),d.children("li:last").addClass("tabs-last"),"left"==i.tabPosition||"right"==i.tabPosition?(o._outerWidth(i.showHeader?i.headerWidth:0),r._outerWidth(n.width()-o.outerWidth()),o.add(r)._outerHeight(i.height),l._outerWidth(o.width()),d._outerWidth(l.width()).css("height","")):(o.children("div.tabs-scroller-left,div.tabs-scroller-right,div.tabs-tool").css("display",i.showHeader?"block":"none"),o._outerWidth(n.width()).css("height",""),i.showHeader?(o.css("background-color",""),l.css("height","")):(o.css("background-color","transparent"),o._outerHeight(0),l._outerHeight(0)),d._outerHeight(i.tabHeight).css("width",""),d._outerHeight(d.outerHeight()-d.height()-1+i.tabHeight).css("width",""),r._size("height",isNaN(i.height)?"":i.height-o.outerHeight()),r._size("width",isNaN(i.width)?"":i.width)),s.tabs.length){var h=d.outerWidth(!0)-d.width(),c=d.children("li:first"),b=c.outerWidth(!0)-c.width(),p=o.width()-o.children(".tabs-tool")._outerWidth(),u=Math.floor((p-h-b*s.tabs.length)/s.tabs.length);if($.map(s.tabs,function(t){a(t,i.justified&&$.inArray(i.tabPosition,["top","bottom"])>=0?u:void 0)}),i.justified&&$.inArray(i.tabPosition,["top","bottom"])>=0){var f=p-h-getContentWidth(d);a(s.tabs[s.tabs.length-1],u+f)}}setScrollers(t)}}function setSelectedSize(t){var e=$.data(t,"tabs").options,a=getSelectedTab(t);if(a){var s=$(t).children("div.tabs-panels"),i="auto"==e.width?"auto":s.width(),n="auto"==e.height?"auto":s.height();a.panel("resize",{width:i,height:n})}}function wrapTabs(t){var e=($.data(t,"tabs").tabs,$(t).addClass("tabs-container")),a=$('<div class="tabs-panels"></div>').insertBefore(e);e.children("div").each(function(){a[0].appendChild(this)}),e[0].appendChild(a[0]),$('<div class="tabs-header"><div class="tabs-scroller-left"></div><div class="tabs-scroller-right"></div><div class="tabs-wrap"><ul class="tabs"></ul></div></div>').prependTo(t),e.children("div.tabs-panels").children("div").each(function(e){var a=$.extend({},$.parser.parseOptions(this),{selected:!!$(this).attr("selected")||void 0});createTab(t,a,$(this))}),e.children("div.tabs-header").find(".tabs-scroller-left, .tabs-scroller-right").hover(function(){$(this).addClass("tabs-scroller-over")},function(){$(this).removeClass("tabs-scroller-over")}),e.bind("_resize",function(e,a){return($(this).hasClass("easyui-fluid")||a)&&(setSize(t),setSelectedSize(t)),!1})}function bindEvents(t){function e(t){var e=0;return t.parent().children("li").each(function(a){if(t[0]==this)return e=a,!1}),e}var a=$.data(t,"tabs"),s=a.options;$(t).children("div.tabs-header").unbind().bind("click",function(i){if($(i.target).hasClass("tabs-scroller-left"))$(t).tabs("scrollBy",-s.scrollIncrement);else{if(!$(i.target).hasClass("tabs-scroller-right")){var n=$(i.target).closest("li");if(n.hasClass("tabs-disabled"))return!1;if($(i.target).closest("a.tabs-close").length)closeTab(t,e(n));else if(n.length){var o=e(n),r=a.tabs[o].panel("options");r.collapsible?r.closed?selectTab(t,o):unselectTab(t,o):selectTab(t,o)}return!1}$(t).tabs("scrollBy",s.scrollIncrement)}}).bind("contextmenu",function(a){var i=$(a.target).closest("li");i.hasClass("tabs-disabled")||i.length&&s.onContextMenu.call(t,a,i.find("span.tabs-title").html(),e(i))})}function setProperties(t){var e=$.data(t,"tabs").options,a=$(t).children("div.tabs-header"),s=$(t).children("div.tabs-panels");a.removeClass("tabs-header-top tabs-header-bottom tabs-header-left tabs-header-right"),s.removeClass("tabs-panels-top tabs-panels-bottom tabs-panels-left tabs-panels-right"),"top"==e.tabPosition?a.insertBefore(s):"bottom"==e.tabPosition?(a.insertAfter(s),a.addClass("tabs-header-bottom"),s.addClass("tabs-panels-top")):"left"==e.tabPosition?(a.addClass("tabs-header-left"),s.addClass("tabs-panels-right")):"right"==e.tabPosition&&(a.addClass("tabs-header-right"),s.addClass("tabs-panels-left")),1==e.plain?a.addClass("tabs-header-plain"):a.removeClass("tabs-header-plain"),a.removeClass("tabs-header-narrow").addClass(e.narrow?"tabs-header-narrow":"");var i=a.find(".tabs");i.removeClass("tabs-pill").addClass(e.pill?"tabs-pill":""),i.removeClass("tabs-narrow").addClass(e.narrow?"tabs-narrow":""),i.removeClass("tabs-justified").addClass(e.justified?"tabs-justified":""),1==e.border?(a.removeClass("tabs-header-noborder"),s.removeClass("tabs-panels-noborder")):(a.addClass("tabs-header-noborder"),s.addClass("tabs-panels-noborder")),e.doSize=!0}function createTab(t,e,a){e=e||{};var s=$.data(t,"tabs"),i=s.tabs;(void 0==e.index||e.index>i.length)&&(e.index=i.length),e.index<0&&(e.index=0);var n=$(t).children("div.tabs-header").find("ul.tabs"),o=$(t).children("div.tabs-panels"),r=$('<li><a href="javascript:void(0)" class="tabs-inner"><span class="tabs-title"></span><span class="tabs-icon"></span></a></li>');a||(a=$("<div></div>")),e.index>=i.length?(r.appendTo(n),a.appendTo(o),i.push(a)):(r.insertBefore(n.children("li:eq("+e.index+")")),a.insertBefore(o.children("div.panel:eq("+e.index+")")),i.splice(e.index,0,a)),a.panel($.extend({},e,{tab:r,border:!1,noheader:!0,closed:!0,doSize:!1,iconCls:e.icon?e.icon:void 0,onLoad:function(){e.onLoad&&e.onLoad.call(this,arguments),s.options.onLoad.call(t,$(this))},onBeforeOpen:function(){if(e.onBeforeOpen&&0==e.onBeforeOpen.call(this))return!1;var a=$(t).tabs("getSelected");if(a){if(a[0]==this)return setSelectedSize(t),!1;if($(t).tabs("unselect",getTabIndex(t,a)),a=$(t).tabs("getSelected"))return!1}var s=$(this).panel("options");s.tab.addClass("tabs-selected");var i=$(t).find(">div.tabs-header>div.tabs-wrap"),n=s.tab.position().left,o=n+s.tab.outerWidth();if(n<0||o>i.width()){var r=n-(i.width()-s.tab.width())/2;$(t).tabs("scrollBy",r)}else $(t).tabs("scrollBy",0);var l=$(this).panel("panel");l.css("display","block"),setSelectedSize(t),l.css("display","none")},onOpen:function(){e.onOpen&&e.onOpen.call(this);var a=$(this).panel("options");s.selectHis.push(a.title),s.options.onSelect.call(t,a.title,getTabIndex(t,this))},onBeforeClose:function(){if(e.onBeforeClose&&0==e.onBeforeClose.call(this))return!1;$(this).panel("options").tab.removeClass("tabs-selected")},onClose:function(){e.onClose&&e.onClose.call(this);var a=$(this).panel("options");s.options.onUnselect.call(t,a.title,getTabIndex(t,this))}})),$(t).tabs("update",{tab:a,options:a.panel("options"),type:"header"})}function addTab(t,e){var a=$.data(t,"tabs"),s=a.options;void 0==e.selected&&(e.selected=!0),createTab(t,e),s.onAdd.call(t,e.title,e.index),e.selected&&selectTab(t,e.index)}function updateTab(t,e){e.type=e.type||"all";var a=$.data(t,"tabs").selectHis,s=e.tab,i=s.panel("options").title;if("all"!=e.type&&"body"!=e||s.panel($.extend({},e.options,{iconCls:e.options.icon?e.options.icon:void 0})),"all"==e.type||"header"==e.type){var n=s.panel("options"),o=n.tab;if(n.header)o.find(".tabs-inner").html($(n.header));else{var r=o.find("span.tabs-title"),l=o.find("span.tabs-icon");if(r.html(n.title),l.attr("class","tabs-icon"),o.find("a.tabs-close").remove(),n.closable?(r.addClass("tabs-closable"),$('<a href="javascript:void(0)" class="tabs-close"></a>').appendTo(o)):r.removeClass("tabs-closable"),n.iconCls?(r.addClass("tabs-with-icon"),l.addClass(n.iconCls)):r.removeClass("tabs-with-icon"),n.tools){var d=o.find("span.tabs-p-tool");if(!d.length)var d=$('<span class="tabs-p-tool"></span>').insertAfter(o.find("a.tabs-inner"));if($.isArray(n.tools))for(var h=0;h<n.tools.length;h++){var c=$('<a href="javascript:void(0)"></a>').appendTo(d);c.addClass(n.tools[h].iconCls),n.tools[h].handler&&c.bind("click",{handler:n.tools[h].handler},function(t){$(this).parents("li").hasClass("tabs-disabled")||t.data.handler.call(this)})}else $(n.tools).children().appendTo(d);var b=12*d.children().length;n.closable?b+=8:(b-=3,d.css("right","5px")),r.css("padding-right",b+"px")}else o.find("span.tabs-p-tool").remove(),r.css("padding-right","")}if(i!=n.title)for(var h=0;h<a.length;h++)a[h]==i&&(a[h]=n.title)}setSize(t),$.data(t,"tabs").options.onUpdate.call(t,n.title,getTabIndex(t,s))}function closeTab(t,e){var a=$.data(t,"tabs").options,s=$.data(t,"tabs").tabs,i=$.data(t,"tabs").selectHis;if(exists(t,e)){var n=getTab(t,e),o=n.panel("options").title,r=getTabIndex(t,n);if(0!=a.onBeforeClose.call(t,o,r)){var n=getTab(t,e,!0);n.panel("options").tab.remove(),n.panel("destroy"),a.onClose.call(t,o,r),setSize(t);for(var l=0;l<i.length;l++)i[l]==o&&(i.splice(l,1),l--);var d=i.pop();d?selectTab(t,d):s.length&&selectTab(t,0)}}}function getTab(t,e,a){var s=$.data(t,"tabs").tabs;if("number"==typeof e){if(e<0||e>=s.length)return null;var i=s[e];return a&&s.splice(e,1),i}for(var n=0;n<s.length;n++){var i=s[n];if(i.panel("options").title==e)return a&&s.splice(n,1),i}return null}function getTabIndex(t,e){for(var a=$.data(t,"tabs").tabs,s=0;s<a.length;s++)if(a[s][0]==$(e)[0])return s;return-1}function getSelectedTab(t){for(var e=$.data(t,"tabs").tabs,a=0;a<e.length;a++){var s=e[a];if(s.panel("options").tab.hasClass("tabs-selected"))return s}return null}function doFirstSelect(t){for(var e=$.data(t,"tabs"),a=e.tabs,s=0;s<a.length;s++)if(a[s].panel("options").selected)return void selectTab(t,s);selectTab(t,e.options.selected)}function selectTab(t,e){var a=getTab(t,e);a&&!a.is(":visible")&&(stopAnimate(t),a.panel("open"))}function unselectTab(t,e){var a=getTab(t,e);a&&a.is(":visible")&&(stopAnimate(t),a.panel("close"))}function stopAnimate(t){$(t).children("div.tabs-panels").each(function(){$(this).stop(!0,!0)})}function exists(t,e){return null!=getTab(t,e)}function showHeader(t,e){$.data(t,"tabs").options.showHeader=e,$(t).tabs("resize")}$.fn.tabs=function(t,e){return"string"==typeof t?$.fn.tabs.methods[t](this,e):(t=t||{},this.each(function(){var e=$.data(this,"tabs");e?$.extend(e.options,t):($.data(this,"tabs",{options:$.extend({},$.fn.tabs.defaults,$.fn.tabs.parseOptions(this),t),tabs:[],selectHis:[]}),wrapTabs(this)),addTools(this),setProperties(this),setSize(this),bindEvents(this),doFirstSelect(this)}))},$.fn.tabs.methods={options:function(t){var e=t[0],a=$.data(e,"tabs").options,s=getSelectedTab(e);return a.selected=s?getTabIndex(e,s):-1,a},tabs:function(t){return $.data(t[0],"tabs").tabs},resize:function(t,e){return t.each(function(){setSize(this,e),setSelectedSize(this)})},add:function(t,e){return t.each(function(){addTab(this,e)})},close:function(t,e){return t.each(function(){closeTab(this,e)})},getTab:function(t,e){return getTab(t[0],e)},getTabIndex:function(t,e){return getTabIndex(t[0],e)},getSelected:function(t){return getSelectedTab(t[0])},select:function(t,e){return t.each(function(){selectTab(this,e)})},unselect:function(t,e){return t.each(function(){unselectTab(this,e)})},exists:function(t,e){return exists(t[0],e)},update:function(t,e){return t.each(function(){updateTab(this,e)})},enableTab:function(t,e){return t.each(function(){$(this).tabs("getTab",e).panel("options").tab.removeClass("tabs-disabled")})},disableTab:function(t,e){return t.each(function(){$(this).tabs("getTab",e).panel("options").tab.addClass("tabs-disabled")})},showHeader:function(t){return t.each(function(){showHeader(this,!0)})},hideHeader:function(t){return t.each(function(){showHeader(this,!1)})},scrollBy:function(t,e){return t.each(function(){var t=$(this).tabs("options"),a=$(this).find(">div.tabs-header>div.tabs-wrap"),s=Math.min(a._scrollLeft()+e,function(){var t=0,e=a.children("ul");return e.children("li").each(function(){t+=$(this).outerWidth(!0)}),t-a.width()+(e.outerWidth()-e.width())}());a.animate({scrollLeft:s},t.scrollDuration)})}},$.fn.tabs.parseOptions=function(t){return $.extend({},$.parser.parseOptions(t,["tools","toolPosition","tabPosition",{fit:"boolean",border:"boolean",plain:"boolean"},{headerWidth:"number",tabWidth:"number",tabHeight:"number",selected:"number"},{showHeader:"boolean",justified:"boolean",narrow:"boolean",pill:"boolean"}]))},$.fn.tabs.defaults={width:"auto",height:"auto",headerWidth:150,tabWidth:"auto",tabHeight:27,selected:0,showHeader:!0,plain:!1,fit:!1,border:!0,justified:!1,narrow:!1,pill:!1,tools:null,toolPosition:"right",tabPosition:"top",scrollIncrement:100,scrollDuration:400,onLoad:function(t){},onSelect:function(t,e){},onUnselect:function(t,e){},onBeforeClose:function(t,e){},onClose:function(t,e){},onAdd:function(t,e){},onUpdate:function(t,e){},onContextMenu:function(t,e,a){}}}(jQuery);
//# sourceMappingURL=jquery.tabs.js.map